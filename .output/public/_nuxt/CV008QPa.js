import{u as L}from"./C4K7ZQHF.js";import{j as I,G as P,o as l,c as o,a as s,d as E,t as a,q as c,B as r,F as h,s as b,g as G,r as C,J as u,_ as S,b as q}from"./Ys5eufZ_.js";const z={class:"fire-dashboard"},H={class:"dashboard-header"},J={class:"header-actions"},K={key:0,class:"btn-alert"},W={class:"dashboard-grid"},Q={class:"panel incidents-panel"},X={class:"panel-header"},Y={class:"filter-tabs"},Z={class:"incidents-list"},ss=["onClick"],ts={class:"incident-header"},es={class:"dispatch-num"},as={class:"incident-type"},ns={class:"incident-address"},is={class:"incident-meta"},ls={class:"time"},os={class:"incident-stats"},ds={class:"stat"},cs={key:0,class:"stat"},rs={key:0,class:"empty-state"},us={class:"panel details-panel"},vs={key:0,class:"incident-details"},_s={class:"details-header"},ps={class:"details-content"},ms={class:"detail-section"},hs={class:"detail-row"},bs={class:"detail-row"},fs={class:"detail-row"},ys={class:"detail-row"},ks={class:"detail-section"},gs={class:"response-timeline"},Cs={key:0,class:"timeline-item"},Is={class:"time-value"},Ss={key:1,class:"timeline-item"},ws={class:"time-value"},Ns={class:"response-time"},As={key:2,class:"timeline-item"},Ds={class:"time-value"},$s={class:"detail-section"},Us={key:0,class:"units-list"},xs={class:"unit-number"},Os={key:1,class:"empty-units"},Ts={class:"detail-section"},Fs={class:"action-buttons"},Ms={key:1,class:"empty-panel"},Rs={class:"panel resources-panel"},js={class:"resource-section"},Vs={class:"status-grid"},Bs={class:"status-card available"},Ls={class:"count"},Ps={class:"status-card in-service"},Es={class:"count"},Gs={class:"status-card maintenance"},qs={class:"count"},zs={class:"status-card out-of-service"},Hs={class:"count"},Js={class:"resource-section"},Ks={class:"personnel-list"},Ws={class:"name"},Qs={class:"rank"},Xs={key:0,class:"badge"},Ys={class:"resource-section"},Zs={class:"stations-list"},st={class:"station-name"},tt=I({__name:"FireDashboard",setup(w){const{incidents:v,apparatus:f,personnel:_,stations:N,updateIncidentStatus:A}=L(),i=C(null),d=C("all"),D={1:"Minor",2:"Moderate",3:"Major",4:"Critical",5:"Catastrophic"},y=u(()=>v.value?.filter(n=>n.status!=="cleared").length||0),k=u(()=>d.value==="all"?v.value||[]:v.value?.filter(n=>n.status===d.value)||[]),p=u(()=>{const n={available:0,in_service:0,maintenance:0,out_of_service:0};return f.value?.forEach(t=>{t.current_status in n&&n[t.current_status]++}),n}),$=u(()=>_.value?.filter(n=>n.is_active).slice(0,8)||[]),U=u(()=>N.value||[]);function x(n){i.value=n}function g(n){return n?.replace(/_/g," ").toUpperCase()||"UNKNOWN"}function m(n){return n?new Date(n).toLocaleTimeString():""}function O(n){if(!n)return"Unassigned";const t=_.value?.find(e=>e.id===n);return t?`${t.first_name} ${t.last_name}`:"Unknown"}function T(n){if(!n.dispatch_time||!n.arrival_time)return"";const t=new Date(n.arrival_time)-new Date(n.dispatch_time);return`${Math.floor(t/6e4)} min`}function F(){console.log("Open new incident modal")}function M(){console.log("Assign units modal")}function R(){console.log("Update status modal")}function j(){console.log("Add notes modal")}function V(){i.value&&A(i.value.id,"cleared")}function B(){console.log("Refreshing resources...")}return P(()=>{}),(n,t)=>(l(),o("div",z,[s("header",H,[t[5]||(t[5]=s("div",{class:"header-content"},[s("h1",null,"Fire Operations Command"),s("p",{class:"subtitle"},"Real-time incident management & resource coordination")],-1)),s("div",J,[s("button",{class:"btn-new-incident",onClick:F},[...t[4]||(t[4]=[s("span",{class:"icon"},"+",-1),E(" New Incident ",-1)])]),y.value>0?(l(),o("button",K,a(y.value)+" Active ",1)):c("",!0)])]),s("div",W,[s("section",Q,[s("div",X,[t[6]||(t[6]=s("h2",null,"Live Incidents",-1)),s("div",Y,[s("button",{class:r(["tab",{active:d.value==="all"}]),onClick:t[0]||(t[0]=e=>d.value="all")}," All ",2),s("button",{class:r(["tab",{active:d.value==="dispatched"}]),onClick:t[1]||(t[1]=e=>d.value="dispatched")}," Dispatching ",2),s("button",{class:r(["tab",{active:d.value==="on_scene"}]),onClick:t[2]||(t[2]=e=>d.value="on_scene")}," On Scene ",2)])]),s("div",Z,[(l(!0),o(h,null,b(k.value,e=>(l(),o("div",{key:e.id,class:r(["incident-card",`severity-${e.severity_level}`]),onClick:it=>x(e)},[s("div",ts,[s("span",es,a(e.dispatch_number),1),s("span",as,a(g(e.incident_type)),1)]),s("div",ns,a(e.address),1),s("div",is,[s("span",{class:r(["status",e.status])},a(e.status),3),s("span",ls,a(m(e.dispatch_time)),1)]),s("div",os,[s("span",ds,"Units: "+a(e.units_dispatched||0),1),e.injuries>0?(l(),o("span",cs,"Injuries: "+a(e.injuries),1)):c("",!0)])],10,ss))),128)),k.value.length===0?(l(),o("div",rs,[s("p",null,"No incidents "+a(d.value!=="all"?"with status: "+d.value:""),1)])):c("",!0)])]),s("section",us,[i.value?(l(),o("div",vs,[s("div",_s,[s("h2",null,a(i.value.dispatch_number),1),s("button",{class:"btn-close",onClick:t[3]||(t[3]=e=>i.value=null)},"×")]),s("div",ps,[s("div",ms,[t[11]||(t[11]=s("h3",null,"Incident Information",-1)),s("div",hs,[t[7]||(t[7]=s("label",null,"Type:",-1)),s("span",null,a(g(i.value.incident_type)),1)]),s("div",bs,[t[8]||(t[8]=s("label",null,"Address:",-1)),s("span",null,a(i.value.address),1)]),s("div",fs,[t[9]||(t[9]=s("label",null,"Severity:",-1)),s("span",{class:r(["severity-badge",`level-${i.value.severity_level}`])},a(D[i.value.severity_level]||"Unknown"),3)]),s("div",ys,[t[10]||(t[10]=s("label",null,"Incident Commander:",-1)),s("span",null,a(O(i.value.incident_commander)),1)])]),s("div",ks,[t[15]||(t[15]=s("h3",null,"Response Status",-1)),s("div",gs,[i.value.dispatch_time?(l(),o("div",Cs,[t[12]||(t[12]=s("span",{class:"time-label"},"Dispatched",-1)),s("span",Is,a(m(i.value.dispatch_time)),1)])):c("",!0),i.value.arrival_time?(l(),o("div",Ss,[t[13]||(t[13]=s("span",{class:"time-label"},"Arrived",-1)),s("span",ws,a(m(i.value.arrival_time)),1),s("span",Ns,a(T(i.value)),1)])):c("",!0),i.value.clearance_time?(l(),o("div",As,[t[14]||(t[14]=s("span",{class:"time-label"},"Cleared",-1)),s("span",Ds,a(m(i.value.clearance_time)),1)])):c("",!0)])]),s("div",$s,[t[16]||(t[16]=s("h3",null,"Assigned Units",-1)),i.value.units&&i.value.units.length>0?(l(),o("div",Us,[(l(!0),o(h,null,b(i.value.units,e=>(l(),o("div",{key:e.id,class:"unit-item"},[s("span",xs,a(e.apparatus_name),1),s("span",{class:r(["unit-status",e.status])},a(e.status),3)]))),128))])):(l(),o("div",Os,"No units assigned"))]),s("div",Ts,[t[17]||(t[17]=s("h3",null,"Actions",-1)),s("div",Fs,[s("button",{class:"btn-secondary",onClick:M},"Assign Units"),s("button",{class:"btn-secondary",onClick:R},"Update Status"),s("button",{class:"btn-secondary",onClick:j},"Add Notes"),i.value.status!=="cleared"?(l(),o("button",{key:0,class:"btn-danger",onClick:V},"Close Incident")):c("",!0)])])])])):(l(),o("div",Ms,[...t[18]||(t[18]=[s("p",null,"Select an incident to view details",-1)])]))]),s("section",Rs,[s("div",{class:"panel-header"},[t[19]||(t[19]=s("h2",null,"Resources",-1)),s("button",{class:"btn-refresh",onClick:B},"↻")]),s("div",js,[t[24]||(t[24]=s("h3",null,"Apparatus Status",-1)),s("div",Vs,[s("div",Bs,[s("span",Ls,a(p.value.available),1),t[20]||(t[20]=s("span",{class:"label"},"Available",-1))]),s("div",Ps,[s("span",Es,a(p.value.in_service),1),t[21]||(t[21]=s("span",{class:"label"},"In Service",-1))]),s("div",Gs,[s("span",qs,a(p.value.maintenance),1),t[22]||(t[22]=s("span",{class:"label"},"Maintenance",-1))]),s("div",zs,[s("span",Hs,a(p.value.out_of_service),1),t[23]||(t[23]=s("span",{class:"label"},"Out of Service",-1))])])]),s("div",Js,[t[25]||(t[25]=s("h3",null,"Personnel On Duty",-1)),s("div",Ks,[(l(!0),o(h,null,b($.value,e=>(l(),o("div",{key:e.id,class:"personnel-item"},[s("span",Ws,a(e.first_name)+" "+a(e.last_name),1),s("span",Qs,a(e.rank),1),e.is_incident_commander?(l(),o("span",Xs,"IC")):c("",!0)]))),128))])]),s("div",Ys,[t[26]||(t[26]=s("h3",null,"Station Status",-1)),s("div",Zs,[(l(!0),o(h,null,b(U.value,e=>(l(),o("div",{key:e.id,class:"station-item"},[s("span",st,a(e.name),1),s("span",{class:r(["station-status",{active:e.is_active}])},a(e.is_active?"Active":"Inactive"),3)]))),128))])]),t[27]||(t[27]=G('<div class="resource-section" data-v-d3a9a46d><h3 data-v-d3a9a46d>System Health</h3><div class="health-check" data-v-d3a9a46d><div class="health-item" data-v-d3a9a46d><span data-v-d3a9a46d>Database</span><span class="indicator online" data-v-d3a9a46d>●</span></div><div class="health-item" data-v-d3a9a46d><span data-v-d3a9a46d>Dispatch System</span><span class="indicator online" data-v-d3a9a46d>●</span></div><div class="health-item" data-v-d3a9a46d><span data-v-d3a9a46d>GPS Tracking</span><span class="indicator online" data-v-d3a9a46d>●</span></div></div></div>',1))])])]))}}),et=S(tt,[["__scopeId","data-v-d3a9a46d"]]),at={class:"fire-page"},nt=I({__name:"index",setup(w){return(v,f)=>{const _=et;return l(),o("div",at,[q(_)])}}}),dt=S(nt,[["__scopeId","data-v-6845105d"]]);export{dt as default};
