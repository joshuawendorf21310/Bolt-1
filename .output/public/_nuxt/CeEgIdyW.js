import{j as S,G as $,c as o,a,n as t,F as w,s as k,t as e,B as C,q as _,l as M,o as l,r as v,_ as B,g as D,b as N}from"./Ys5eufZ_.js";import{u as x}from"./aCoNAzL5.js";const L={class:"invoice-list"},A={key:0,class:"loading"},V={key:1,class:"empty-state"},T={key:2,class:"invoices-container"},j=["onClick"],q={class:"invoice-header"},U={class:"invoice-number"},E={class:"invoice-details"},O={class:"detail-row"},z={class:"detail-row"},G={class:"detail-row"},Q={class:"detail-row total"},R={class:"invoice-footer"},W={class:"due-date"},H={class:"modal-body"},J={class:"invoice-info"},K={class:"info-row"},X={class:"info-row"},Y={class:"info-row"},Z={class:"info-row"},aa={key:0,class:"line-items"},sa={class:"line-items-table"},ea={class:"item-desc"},ta={class:"item-title"},na={class:"item-qty"},ia={class:"item-amount"},oa={class:"invoice-totals"},la={class:"total-row"},da={key:0,class:"total-row"},ra={class:"total-row final"},ca={key:1,class:"total-row paid"},ua=S({__name:"PlatformInvoiceList",props:{agencyId:{}},setup(f){const m=f,{getAgencyInvoices:y,getInvoiceDetails:c}=x(),p=v([]),i=v(null),b=v({lineItems:[]}),g=v(!0),r=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(d/100),u=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),h=d=>({draft:"Draft",sent:"Sent",paid:"Paid",overdue:"Overdue",cancelled:"Cancelled"})[d]||d,F=async d=>{i.value=d,b.value=await c(d.id)},I=()=>{i.value=null,b.value={lineItems:[]}},P=async()=>{g.value=!0,p.value=await y(m.agencyId),g.value=!1};return $(async()=>{await P()}),(d,s)=>(l(),o("div",L,[a("div",{class:"list-header"},[s[1]||(s[1]=a("h4",null,"Platform Invoices",-1)),a("button",{onClick:P,class:"refresh-button"},"Refresh")]),t(g)?(l(),o("div",A,"Loading invoices...")):t(p).length===0?(l(),o("div",V," No invoices found ")):(l(),o("div",T,[(l(!0),o(w,null,k(t(p),n=>(l(),o("div",{key:n.id,class:"invoice-card",onClick:ma=>F(n)},[a("div",q,[a("span",U,e(n.invoice_number),1),a("span",{class:C(["status-badge",`status-${n.invoice_status}`])},e(h(n.invoice_status)),3)]),a("div",E,[a("div",O,[s[2]||(s[2]=a("span",{class:"label"},"Period:",-1)),a("span",null,e(u(n.invoice_period_start))+" - "+e(u(n.invoice_period_end)),1)]),a("div",z,[s[3]||(s[3]=a("span",{class:"label"},"Base Fee:",-1)),a("span",null,e(r(n.base_platform_fee)),1)]),a("div",G,[s[4]||(s[4]=a("span",{class:"label"},"Billable Calls:",-1)),a("span",null,e(n.billable_calls_count)+" calls ("+e(r(n.billable_calls_total))+")",1)]),a("div",Q,[s[5]||(s[5]=a("span",{class:"label"},"Total Due:",-1)),a("span",null,e(r(n.total_amount_due)),1)])]),a("div",R,[a("span",W,"Due: "+e(u(n.due_date)),1)])],8,j))),128))])),t(i)?(l(),o("div",{key:3,class:"modal-overlay",onClick:I},[a("div",{class:"modal",onClick:s[0]||(s[0]=M(()=>{},["stop"]))},[a("div",{class:"modal-header"},[s[6]||(s[6]=a("h3",null,"Invoice Details",-1)),a("button",{onClick:I,class:"close-button"},"Ã—")]),a("div",H,[a("div",J,[a("div",K,[s[7]||(s[7]=a("span",{class:"label"},"Invoice Number:",-1)),a("span",null,e(t(i).invoice_number),1)]),a("div",X,[s[8]||(s[8]=a("span",{class:"label"},"Billing Period:",-1)),a("span",null,e(u(t(i).invoice_period_start))+" - "+e(u(t(i).invoice_period_end)),1)]),a("div",Y,[s[9]||(s[9]=a("span",{class:"label"},"Status:",-1)),a("span",{class:C(["status-badge",`status-${t(i).invoice_status}`])},e(h(t(i).invoice_status)),3)]),a("div",Z,[s[10]||(s[10]=a("span",{class:"label"},"Due Date:",-1)),a("span",null,e(u(t(i).due_date)),1)])]),t(b).lineItems.length>0?(l(),o("div",aa,[s[11]||(s[11]=a("h4",null,"Line Items",-1)),a("div",sa,[(l(!0),o(w,null,k(t(b).lineItems,n=>(l(),o("div",{key:n.id,class:"line-item"},[a("div",ea,[a("span",ta,e(n.description),1),a("span",na,"Qty: "+e(n.quantity)+" Ã— "+e(r(n.unit_price)),1)]),a("span",ia,e(r(n.amount)),1)]))),128))])])):_("",!0),a("div",oa,[a("div",la,[s[12]||(s[12]=a("span",null,"Subtotal",-1)),a("span",null,e(r(t(i).subtotal)),1)]),t(i).stripe_passthrough_fees>0?(l(),o("div",da,[s[13]||(s[13]=a("span",null,"Stripe Fees (passthrough)",-1)),a("span",null,e(r(t(i).stripe_passthrough_fees)),1)])):_("",!0),a("div",ra,[s[14]||(s[14]=a("span",null,"Total Amount Due",-1)),a("span",null,e(r(t(i).total_amount_due)),1)]),t(i).amount_paid>0?(l(),o("div",ca,[s[15]||(s[15]=a("span",null,"Amount Paid",-1)),a("span",null,e(r(t(i).amount_paid)),1)])):_("",!0)])])])])):_("",!0)]))}}),pa=B(ua,[["__scopeId","data-v-9037f528"]]),va={class:"billing-invoices-page"},ba={class:"invoice-section"},_a=S({__name:"invoices",setup(f){const m=v("default-agency-id");return(y,c)=>{const p=pa;return l(),o("div",va,[c[0]||(c[0]=D('<div class="page-header" data-v-bbaa833e><h1 data-v-bbaa833e>Platform Invoices</h1><p class="subtitle" data-v-bbaa833e>Monthly platform fees and billable call charges</p></div><div class="pricing-summary" data-v-bbaa833e><div class="pricing-card" data-v-bbaa833e><span class="pricing-icon" data-v-bbaa833e>ðŸ’³</span><div class="pricing-info" data-v-bbaa833e><span class="pricing-label" data-v-bbaa833e>Monthly Platform Fee</span><span class="pricing-amount" data-v-bbaa833e>$500.00</span><span class="pricing-desc" data-v-bbaa833e>Base subscription fee</span></div></div><div class="pricing-card" data-v-bbaa833e><span class="pricing-icon" data-v-bbaa833e>ðŸ“ž</span><div class="pricing-info" data-v-bbaa833e><span class="pricing-label" data-v-bbaa833e>Per-Billable-Call Fee</span><span class="pricing-amount" data-v-bbaa833e>$45.00</span><span class="pricing-desc" data-v-bbaa833e>Per encounter charge</span></div></div></div>',2)),a("div",ba,[N(p,{"agency-id":t(m)},null,8,["agency-id"])]),c[1]||(c[1]=D('<div class="pricing-policy" data-v-bbaa833e><h3 data-v-bbaa833e>Pricing Policy</h3><div class="policy-content" data-v-bbaa833e><p data-v-bbaa833e>Our platform uses a fixed pricing model designed for predictability and transparency:</p><ul data-v-bbaa833e><li data-v-bbaa833e><strong data-v-bbaa833e>Monthly Platform Fee ($500):</strong> Covers system availability, automation readiness, integrations, compliance posture, monitoring, and support. Charged regardless of call volume.</li><li data-v-bbaa833e><strong data-v-bbaa833e>Per-Billable-Call Fee ($45):</strong> Charged once per completed billable encounter (EMS transports, treatment-in-place, refusals, private-pay, telehealth). Not dependent on insurance reimbursement or claim outcome.</li><li data-v-bbaa833e><strong data-v-bbaa833e>No Percentage-Based Pricing:</strong> We do not use revenue sharing or percentage-based fees.</li><li data-v-bbaa833e><strong data-v-bbaa833e>Transparent Pass-Through:</strong> Stripe payment processing fees are passed through at cost with no markup.</li><li data-v-bbaa833e><strong data-v-bbaa833e>Automation Value:</strong> Pricing is not adjusted based on automation level. Automation improves reliability, not just reduces manual effort.</li></ul></div></div>',1))])}}}),ya=B(_a,[["__scopeId","data-v-bbaa833e"]]);export{ya as default};
