{"file":"dashboard-CS_4XqtU.js","mappings":"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","names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrInterpolate","_ssrRenderList","_ssrRenderClass"],"sources":["../../../../components/PlatformRevenueBreakdown.vue","../../../../composables/useFinancialHealth.ts","../../../../components/BusinessHealthSummary.vue","../../../../components/AccountingIntegrityStrip.vue","../../../../composables/useTaxSafety.ts","../../../../components/TaxSafetyBlock.vue","../../../../composables/useFounderCompensation.ts","../../../../components/FounderCompensationGuardrails.vue","../../../../composables/useBillingQueue.ts","../../../../components/BillingCommandCenter.vue","../../../../components/PrivatePayRevenue.vue","../../../../composables/useTelehealth.ts","../../../../components/TelehealthBillingPanel.vue","../../../../composables/useSystemHealth.ts","../../../../pages/founder/dashboard.vue"],"sourcesContent":["<template>\n  <div class=\"platform-revenue\">\n    <div class=\"panel-header\">\n      <h3>Platform Revenue Model</h3>\n      <p class=\"subtitle\">Fixed pricing: $500/month + $45/billable call</p>\n    </div>\n\n    <div v-if=\"loading\" class=\"loading\">Loading revenue data...</div>\n\n    <div v-else-if=\"analytics\" class=\"revenue-content\">\n      <div class=\"pricing-model-info\">\n        <div class=\"pricing-box\">\n          <span class=\"pricing-label\">Monthly Platform Fee</span>\n          <span class=\"pricing-value\">$500</span>\n          <span class=\"pricing-desc\">per agency</span>\n        </div>\n        <div class=\"pricing-box\">\n          <span class=\"pricing-label\">Per-Billable-Call Fee</span>\n          <span class=\"pricing-value\">$45</span>\n          <span class=\"pricing-desc\">per encounter</span>\n        </div>\n      </div>\n\n      <div class=\"revenue-metrics\">\n        <div class=\"metric-card primary\">\n          <span class=\"metric-label\">Total Platform Revenue</span>\n          <span class=\"metric-value\">{{ formatCurrency(analytics.totalRevenue) }}</span>\n          <div class=\"metric-breakdown\">\n            <div class=\"breakdown-item\">\n              <span class=\"breakdown-label\">Recurring (Base Fees)</span>\n              <span class=\"breakdown-value\">{{ formatCurrency(analytics.recurringRevenue) }}</span>\n            </div>\n            <div class=\"breakdown-item\">\n              <span class=\"breakdown-label\">Usage (Call Fees)</span>\n              <span class=\"breakdown-value\">{{ formatCurrency(analytics.usageRevenue) }}</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"metric-card\">\n          <span class=\"metric-label\">Monthly Recurring Revenue (MRR)</span>\n          <span class=\"metric-value\">{{ formatCurrency(analytics.monthlyRecurringRevenue) }}</span>\n          <span class=\"metric-detail\">{{ analytics.activeSubscriptions }} active {{ analytics.activeSubscriptions === 1 ? 'agency' : 'agencies' }}</span>\n        </div>\n\n        <div class=\"metric-card\">\n          <span class=\"metric-label\">Outstanding Amount</span>\n          <span class=\"metric-value\">{{ formatCurrency(analytics.outstandingAmount) }}</span>\n          <span v-if=\"analytics.overdueInvoices > 0\" class=\"metric-detail warning\">\n            {{ analytics.overdueInvoices }} overdue {{ analytics.overdueInvoices === 1 ? 'invoice' : 'invoices' }}\n          </span>\n        </div>\n      </div>\n\n      <div class=\"usage-metrics\">\n        <h4>Usage Metrics</h4>\n        <div class=\"usage-grid\">\n          <div class=\"usage-stat\">\n            <span class=\"stat-value\">{{ analytics.totalBillableCalls.toLocaleString() }}</span>\n            <span class=\"stat-label\">Total Billable Calls</span>\n          </div>\n          <div class=\"usage-stat\">\n            <span class=\"stat-value\">{{ analytics.paidCalls.toLocaleString() }}</span>\n            <span class=\"stat-label\">Paid Calls</span>\n          </div>\n          <div class=\"usage-stat\">\n            <span class=\"stat-value\">{{ analytics.averageCallsPerAgency.toFixed(0) }}</span>\n            <span class=\"stat-label\">Avg Calls per Agency</span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"invoice-summary\">\n        <h4>Invoice Status</h4>\n        <div class=\"invoice-stats\">\n          <div class=\"invoice-stat\">\n            <span class=\"stat-count\">{{ analytics.totalInvoices }}</span>\n            <span class=\"stat-label\">Total Invoices</span>\n          </div>\n          <div class=\"invoice-stat paid\">\n            <span class=\"stat-count\">{{ analytics.paidInvoices }}</span>\n            <span class=\"stat-label\">Paid</span>\n          </div>\n          <div class=\"invoice-stat overdue\" v-if=\"analytics.overdueInvoices > 0\">\n            <span class=\"stat-count\">{{ analytics.overdueInvoices }}</span>\n            <span class=\"stat-label\">Overdue</span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"pricing-notes\">\n        <h4>Pricing Policy</h4>\n        <ul>\n          <li>Base fee charged regardless of call volume</li>\n          <li>Per-call fee applies to all billable encounters</li>\n          <li>No percentage-based pricing or revenue sharing</li>\n          <li>Pricing not adjusted for automation level</li>\n          <li>Stripe fees passed through transparently (not marked up)</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst { getPlatformRevenueAnalytics } = usePlatformPricing()\n\nconst analytics = ref<any>(null)\nconst loading = ref(true)\n\nconst formatCurrency = (amount: number) => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0\n  }).format(amount / 100)\n}\n\nonMounted(async () => {\n  analytics.value = await getPlatformRevenueAnalytics()\n  loading.value = false\n})\n</script>\n\n<style scoped>\n.platform-revenue {\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 20px;\n}\n\n.panel-header h3 {\n  font-size: 18px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 4px 0;\n}\n\n.subtitle {\n  font-size: 13px;\n  color: #6b7280;\n  margin: 0 0 20px 0;\n}\n\n.loading {\n  padding: 40px;\n  text-align: center;\n  color: #6b7280;\n  font-size: 14px;\n}\n\n.pricing-model-info {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 12px;\n  margin-bottom: 20px;\n  padding-bottom: 20px;\n  border-bottom: 2px solid #e5e7eb;\n}\n\n.pricing-box {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 16px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 8px;\n  color: white;\n}\n\n.pricing-label {\n  font-size: 12px;\n  font-weight: 500;\n  opacity: 0.9;\n  margin-bottom: 8px;\n}\n\n.pricing-value {\n  font-size: 32px;\n  font-weight: 700;\n  margin-bottom: 4px;\n}\n\n.pricing-desc {\n  font-size: 12px;\n  opacity: 0.8;\n}\n\n.revenue-metrics {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.metric-card {\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.metric-card.primary {\n  background: #eff6ff;\n  border-color: #bfdbfe;\n}\n\n.metric-label {\n  font-size: 12px;\n  font-weight: 500;\n  color: #6b7280;\n  margin-bottom: 6px;\n}\n\n.metric-value {\n  font-size: 28px;\n  font-weight: 700;\n  color: #111827;\n  margin-bottom: 8px;\n}\n\n.metric-detail {\n  font-size: 12px;\n  color: #6b7280;\n}\n\n.metric-detail.warning {\n  color: #dc2626;\n  font-weight: 500;\n}\n\n.metric-breakdown {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  margin-top: 12px;\n  padding-top: 12px;\n  border-top: 1px solid #cbd5e1;\n}\n\n.breakdown-item {\n  display: flex;\n  justify-content: space-between;\n  font-size: 13px;\n}\n\n.breakdown-label {\n  color: #6b7280;\n}\n\n.breakdown-value {\n  font-weight: 600;\n  color: #111827;\n}\n\n.usage-metrics,\n.invoice-summary,\n.pricing-notes {\n  margin-bottom: 20px;\n}\n\n.usage-metrics h4,\n.invoice-summary h4,\n.pricing-notes h4 {\n  font-size: 14px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 12px 0;\n}\n\n.usage-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 12px;\n}\n\n.usage-stat {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 16px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.stat-value {\n  font-size: 28px;\n  font-weight: 700;\n  color: #111827;\n  margin-bottom: 4px;\n}\n\n.stat-label {\n  font-size: 12px;\n  color: #6b7280;\n  text-align: center;\n}\n\n.invoice-stats {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: 12px;\n}\n\n.invoice-stat {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 16px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.invoice-stat.paid {\n  background: #d1fae5;\n  border-color: #a7f3d0;\n}\n\n.invoice-stat.overdue {\n  background: #fee2e2;\n  border-color: #fecaca;\n}\n\n.stat-count {\n  font-size: 32px;\n  font-weight: 700;\n  color: #111827;\n  margin-bottom: 4px;\n}\n\n.pricing-notes {\n  background: #fffbeb;\n  border: 1px solid #fde68a;\n  border-radius: 6px;\n  padding: 16px;\n}\n\n.pricing-notes ul {\n  margin: 0;\n  padding-left: 20px;\n}\n\n.pricing-notes li {\n  font-size: 13px;\n  color: #78350f;\n  line-height: 1.6;\n  margin-bottom: 4px;\n}\n\n@media (max-width: 768px) {\n  .pricing-model-info,\n  .usage-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>\n","export const useFinancialHealth = () => {\n  const supabase = useSupabaseClient()\n\n  const calculateBusinessHealth = async () => {\n    const now = new Date()\n    const thirtyDaysAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000)\n    const ninetyDaysAgo = new Date(now.getTime() - 90 * 24 * 60 * 60 * 1000)\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1)\n    const startOfYear = new Date(now.getFullYear(), 0, 1)\n\n    const { data: accounts } = await supabase\n      .from('business_accounts')\n      .select('current_balance, sync_status, last_synced_at')\n      .eq('is_active', true)\n\n    const totalCash = accounts?.reduce((sum, acc) => sum + Number(acc.current_balance), 0) || 0\n\n    const { data: transactions } = await supabase\n      .from('business_transactions')\n      .select('amount, transaction_date, transaction_type')\n      .gte('transaction_date', thirtyDaysAgo.toISOString().split('T')[0])\n      .order('transaction_date', { ascending: false })\n\n    const last30DaysInflow = transactions\n      ?.filter(t => Number(t.amount) > 0)\n      .reduce((sum, t) => sum + Number(t.amount), 0) || 0\n\n    const last30DaysOutflow = transactions\n      ?.filter(t => Number(t.amount) < 0)\n      .reduce((sum, t) => sum + Math.abs(Number(t.amount)), 0) || 0\n\n    const monthlyBurn = last30DaysOutflow - last30DaysInflow\n    const runway = monthlyBurn > 0 ? Math.floor(totalCash / monthlyBurn) : Infinity\n\n    const { data: mtdTransactions } = await supabase\n      .from('business_transactions')\n      .select('amount, transaction_type')\n      .gte('transaction_date', startOfMonth.toISOString().split('T')[0])\n\n    const mtdRevenue = mtdTransactions\n      ?.filter(t => t.transaction_type === 'revenue')\n      .reduce((sum, t) => sum + Number(t.amount), 0) || 0\n\n    const mtdExpenses = mtdTransactions\n      ?.filter(t => ['expense', 'payroll', 'tax'].includes(t.transaction_type))\n      .reduce((sum, t) => sum + Math.abs(Number(t.amount)), 0) || 0\n\n    const mtdNetProfit = mtdRevenue - mtdExpenses\n\n    const { data: ytdTransactions } = await supabase\n      .from('business_transactions')\n      .select('amount, transaction_type')\n      .gte('transaction_date', startOfYear.toISOString().split('T')[0])\n\n    const ytdRevenue = ytdTransactions\n      ?.filter(t => t.transaction_type === 'revenue')\n      .reduce((sum, t) => sum + Number(t.amount), 0) || 0\n\n    const ytdExpenses = ytdTransactions\n      ?.filter(t => ['expense', 'payroll', 'tax'].includes(t.transaction_type))\n      .reduce((sum, t) => sum + Math.abs(Number(t.amount)), 0) || 0\n\n    const ytdNetProfit = ytdRevenue - ytdExpenses\n\n    const { data: arData } = await supabase\n      .from('accounts_receivable')\n      .select('amount_outstanding, aging_bucket')\n      .eq('status', 'outstanding')\n\n    const totalAR = arData?.reduce((sum, ar) => sum + Number(ar.amount_outstanding), 0) || 0\n    const arAging = {\n      current: arData?.filter(ar => ar.aging_bucket === 'current').reduce((sum, ar) => sum + Number(ar.amount_outstanding), 0) || 0,\n      '30': arData?.filter(ar => ar.aging_bucket === '30').reduce((sum, ar) => sum + Number(ar.amount_outstanding), 0) || 0,\n      '60': arData?.filter(ar => ar.aging_bucket === '60').reduce((sum, ar) => sum + Number(ar.amount_outstanding), 0) || 0,\n      '90': arData?.filter(ar => ar.aging_bucket === '90').reduce((sum, ar) => sum + Number(ar.amount_outstanding), 0) || 0,\n      '120_plus': arData?.filter(ar => ar.aging_bucket === '120_plus').reduce((sum, ar) => sum + Number(ar.amount_outstanding), 0) || 0\n    }\n\n    const { data: apData } = await supabase\n      .from('accounts_payable')\n      .select('amount_outstanding, priority, due_date')\n      .eq('status', 'pending')\n\n    const totalAP = apData?.reduce((sum, ap) => sum + Number(ap.amount_outstanding), 0) || 0\n    const apByPriority = {\n      payroll: apData?.filter(ap => ap.priority === 'payroll').reduce((sum, ap) => sum + Number(ap.amount_outstanding), 0) || 0,\n      taxes: apData?.filter(ap => ap.priority === 'taxes').reduce((sum, ap) => sum + Number(ap.amount_outstanding), 0) || 0,\n      critical: apData?.filter(ap => ap.priority === 'critical').reduce((sum, ap) => sum + Number(ap.amount_outstanding), 0) || 0,\n      normal: apData?.filter(ap => ap.priority === 'normal').reduce((sum, ap) => sum + Number(ap.amount_outstanding), 0) || 0\n    }\n\n    const { data: serviceLines } = await supabase\n      .from('service_lines')\n      .select('id, name')\n      .eq('is_active', true)\n\n    const revenueByServiceLine = await Promise.all(\n      (serviceLines || []).map(async (line) => {\n        const { data } = await supabase\n          .from('business_transactions')\n          .select('amount')\n          .eq('service_line_id', line.id)\n          .eq('transaction_type', 'revenue')\n          .gte('transaction_date', startOfMonth.toISOString().split('T')[0])\n\n        return {\n          name: line.name,\n          revenue: data?.reduce((sum, t) => sum + Number(t.amount), 0) || 0\n        }\n      })\n    )\n\n    return {\n      cash: {\n        total: totalCash,\n        trend: last30DaysInflow - last30DaysOutflow\n      },\n      burn: {\n        monthly: monthlyBurn,\n        last30DaysInflow,\n        last30DaysOutflow\n      },\n      runway,\n      netProfit: {\n        mtd: mtdNetProfit,\n        ytd: ytdNetProfit\n      },\n      ar: {\n        total: totalAR,\n        aging: arAging\n      },\n      ap: {\n        total: totalAP,\n        byPriority: apByPriority\n      },\n      revenueByServiceLine,\n      bankFeedStatus: accounts?.[0]?.sync_status || 'unknown',\n      lastBankSync: accounts?.[0]?.last_synced_at || null\n    }\n  }\n\n  const getAccountingIntegrity = async () => {\n    const { data: accounts } = await supabase\n      .from('business_accounts')\n      .select('id, account_name, sync_status, last_synced_at')\n      .eq('is_active', true)\n\n    const { data: lastReconciliation } = await supabase\n      .from('bank_reconciliations')\n      .select('reconciled_at, status')\n      .order('reconciled_at', { ascending: false })\n      .limit(1)\n      .maybeSingle()\n\n    const { data: freshness } = await supabase\n      .from('data_freshness_tracking')\n      .select('data_source, last_updated, is_stale')\n\n    const { data: unreconciled } = await supabase\n      .from('business_transactions')\n      .select('id', { count: 'exact', head: true })\n      .eq('reconciled', false)\n\n    return {\n      bankFeeds: accounts?.map(acc => ({\n        name: acc.account_name,\n        status: acc.sync_status,\n        lastSync: acc.last_synced_at\n      })) || [],\n      lastReconciliation: lastReconciliation ? {\n        date: lastReconciliation.reconciled_at,\n        status: lastReconciliation.status\n      } : null,\n      dataFreshness: freshness || [],\n      unreconciledCount: unreconciled || 0\n    }\n  }\n\n  return {\n    calculateBusinessHealth,\n    getAccountingIntegrity\n  }\n}\n","<template>\n  <div class=\"business-health-summary\">\n    <div class=\"header\">\n      <h2>Business Health</h2>\n      <p class=\"subtitle\">{{ statusMessage }}</p>\n    </div>\n\n    <div v-if=\"loading\" class=\"loading\">Loading financial data...</div>\n\n    <div v-else-if=\"health\" class=\"metrics-grid\">\n      <div class=\"metric-card\" :class=\"cashStatus\">\n        <div class=\"metric-label\">Cash on Hand</div>\n        <div class=\"metric-value\">{{ formatCurrency(health.cash.total) }}</div>\n        <div class=\"metric-trend\" :class=\"health.cash.trend >= 0 ? 'positive' : 'negative'\">\n          {{ health.cash.trend >= 0 ? '↑' : '↓' }} {{ formatCurrency(Math.abs(health.cash.trend)) }} (30d)\n        </div>\n      </div>\n\n      <div class=\"metric-card\">\n        <div class=\"metric-label\">\n          Monthly Burn\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">Cash out minus cash in over the last 30 days. Different from accounting net income.</span>\n          </span>\n        </div>\n        <div class=\"metric-value\">{{ formatCurrency(health.burn.monthly) }}</div>\n        <div class=\"metric-detail\">\n          In: {{ formatCurrency(health.burn.last30DaysInflow) }} | Out: {{ formatCurrency(health.burn.last30DaysOutflow) }}\n        </div>\n      </div>\n\n      <div class=\"metric-card\" :class=\"runwayStatus\">\n        <div class=\"metric-label\">\n          Runway\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">Months until cash runs out at current burn rate. Cash balance ÷ monthly burn.</span>\n          </span>\n        </div>\n        <div class=\"metric-value\">\n          {{ health.runway === Infinity ? '∞' : health.runway }}\n          {{ health.runway === Infinity ? '' : health.runway === 1 ? 'month' : 'months' }}\n        </div>\n      </div>\n\n      <div class=\"metric-card\">\n        <div class=\"metric-label\">\n          Net Profit/Loss\n          <span class=\"tooltip\">ⓘ\n            <span class=\"tooltip-text\">Accounting view (revenue minus expenses). Different from burn rate.</span>\n          </span>\n        </div>\n        <div class=\"metric-value\" :class=\"health.netProfit.mtd >= 0 ? 'positive' : 'negative'\">\n          {{ formatCurrency(health.netProfit.mtd) }}\n        </div>\n        <div class=\"metric-detail\">MTD | YTD: {{ formatCurrency(health.netProfit.ytd) }}</div>\n      </div>\n\n      <div class=\"metric-card\">\n        <div class=\"metric-label\">Accounts Receivable</div>\n        <div class=\"metric-value\">{{ formatCurrency(health.ar.total) }}</div>\n        <div class=\"metric-detail aging-breakdown\">\n          <span>Current: {{ formatCurrency(health.ar.aging.current) }}</span>\n          <span>30+: {{ formatCurrency(health.ar.aging['30']) }}</span>\n          <span>60+: {{ formatCurrency(health.ar.aging['60']) }}</span>\n          <span>90+: {{ formatCurrency(health.ar.aging['90']) }}</span>\n        </div>\n      </div>\n\n      <div class=\"metric-card\">\n        <div class=\"metric-label\">Accounts Payable</div>\n        <div class=\"metric-value\">{{ formatCurrency(health.ap.total) }}</div>\n        <div class=\"metric-detail\">\n          <span v-if=\"health.ap.byPriority.payroll > 0\" class=\"priority-high\">\n            Payroll: {{ formatCurrency(health.ap.byPriority.payroll) }}\n          </span>\n          <span v-if=\"health.ap.byPriority.taxes > 0\" class=\"priority-high\">\n            Taxes: {{ formatCurrency(health.ap.byPriority.taxes) }}\n          </span>\n        </div>\n      </div>\n\n      <div v-if=\"health.revenueByServiceLine.length > 0\" class=\"metric-card full-width\">\n        <div class=\"metric-label\">Revenue by Service Line (MTD)</div>\n        <div class=\"service-lines\">\n          <div v-for=\"line in health.revenueByServiceLine\" :key=\"line.name\" class=\"service-line\">\n            <span class=\"line-name\">{{ formatServiceLineName(line.name) }}</span>\n            <span class=\"line-revenue\">{{ formatCurrency(line.revenue) }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst { calculateBusinessHealth } = useFinancialHealth()\n\nconst health = ref<any>(null)\nconst loading = ref(true)\n\nconst cashStatus = computed(() => {\n  if (!health.value) return ''\n  const cash = health.value.cash.total\n  const burn = health.value.burn.monthly\n  if (cash < burn * 2) return 'status-critical'\n  if (cash < burn * 6) return 'status-warning'\n  return 'status-healthy'\n})\n\nconst runwayStatus = computed(() => {\n  if (!health.value) return ''\n  const runway = health.value.runway\n  if (runway === Infinity) return 'status-healthy'\n  if (runway < 3) return 'status-critical'\n  if (runway < 6) return 'status-warning'\n  return 'status-healthy'\n})\n\nconst statusMessage = computed(() => {\n  if (!health.value) return 'Loading...'\n  if (cashStatus.value === 'status-critical' || runwayStatus.value === 'status-critical') {\n    return 'Immediate attention needed: low cash reserves'\n  }\n  if (cashStatus.value === 'status-warning' || runwayStatus.value === 'status-warning') {\n    return 'Monitor closely: cash reserves below recommended levels'\n  }\n  return 'Company is operating within safe parameters'\n})\n\nconst formatCurrency = (amount: number) => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  }).format(amount / 100)\n}\n\nconst formatServiceLineName = (name: string) => {\n  const names: Record<string, string> = {\n    'transport': 'Transport',\n    'ems': 'EMS',\n    'fire_contracts': 'Fire Contracts',\n    'other': 'Other'\n  }\n  return names[name] || name\n}\n\nonMounted(async () => {\n  health.value = await calculateBusinessHealth()\n  loading.value = false\n})\n</script>\n\n<style scoped>\n.business-health-summary {\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 24px;\n}\n\n.header {\n  margin-bottom: 24px;\n}\n\n.header h2 {\n  font-size: 20px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 8px 0;\n}\n\n.subtitle {\n  font-size: 14px;\n  color: #6b7280;\n  margin: 0;\n}\n\n.loading {\n  padding: 40px;\n  text-align: center;\n  color: #6b7280;\n}\n\n.metrics-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 16px;\n}\n\n.metric-card {\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  padding: 16px;\n}\n\n.metric-card.full-width {\n  grid-column: 1 / -1;\n}\n\n.metric-card.status-critical {\n  background: #fef2f2;\n  border-color: #fecaca;\n}\n\n.metric-card.status-warning {\n  background: #fffbeb;\n  border-color: #fde68a;\n}\n\n.metric-card.status-healthy {\n  background: #f0fdf4;\n  border-color: #bbf7d0;\n}\n\n.metric-label {\n  font-size: 13px;\n  font-weight: 500;\n  color: #6b7280;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.metric-value {\n  font-size: 24px;\n  font-weight: 600;\n  color: #111827;\n  margin-bottom: 4px;\n}\n\n.metric-value.positive {\n  color: #059669;\n}\n\n.metric-value.negative {\n  color: #dc2626;\n}\n\n.metric-trend {\n  font-size: 13px;\n  font-weight: 500;\n}\n\n.metric-trend.positive {\n  color: #059669;\n}\n\n.metric-trend.negative {\n  color: #dc2626;\n}\n\n.metric-detail {\n  font-size: 12px;\n  color: #6b7280;\n  margin-top: 4px;\n}\n\n.aging-breakdown {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.priority-high {\n  color: #dc2626;\n  font-weight: 500;\n}\n\n.service-lines {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.service-line {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px;\n  background: white;\n  border-radius: 4px;\n}\n\n.line-name {\n  font-weight: 500;\n  color: #374151;\n}\n\n.line-revenue {\n  font-weight: 600;\n  color: #111827;\n}\n\n.tooltip {\n  position: relative;\n  display: inline-flex;\n  cursor: help;\n  color: #9ca3af;\n}\n\n.tooltip-text {\n  visibility: hidden;\n  width: 200px;\n  background-color: #1f2937;\n  color: white;\n  text-align: left;\n  border-radius: 6px;\n  padding: 8px;\n  position: absolute;\n  z-index: 1;\n  bottom: 125%;\n  left: 50%;\n  margin-left: -100px;\n  font-size: 12px;\n  font-weight: normal;\n  line-height: 1.4;\n}\n\n.tooltip:hover .tooltip-text {\n  visibility: visible;\n}\n</style>\n","<template>\n  <div class=\"accounting-integrity\">\n    <h3>Accounting Integrity</h3>\n    <p class=\"question\">Can I trust the numbers on this screen?</p>\n\n    <div v-if=\"loading\" class=\"loading\">Checking data integrity...</div>\n\n    <div v-else-if=\"integrity\" class=\"integrity-grid\">\n      <div class=\"integrity-item\" :class=\"bankFeedStatusClass\">\n        <span class=\"label\">Bank Feed</span>\n        <span class=\"value\">{{ bankFeedStatus }}</span>\n        <span v-if=\"integrity.bankFeeds[0]?.lastSync\" class=\"detail\">\n          Last sync: {{ formatTimestamp(integrity.bankFeeds[0].lastSync) }}\n        </span>\n      </div>\n\n      <div class=\"integrity-item\" :class=\"reconciliationStatusClass\">\n        <span class=\"label\">Reconciliation</span>\n        <span class=\"value\">{{ reconciliationStatus }}</span>\n        <span v-if=\"integrity.lastReconciliation\" class=\"detail\">\n          Last: {{ formatDate(integrity.lastReconciliation.date) }}\n        </span>\n      </div>\n\n      <div class=\"integrity-item\">\n        <span class=\"label\">Unreconciled Transactions</span>\n        <span class=\"value\">{{ integrity.unreconciledCount }}</span>\n      </div>\n\n      <div class=\"integrity-item\" :class=\"dataFreshnessClass\">\n        <span class=\"label\">Data Freshness</span>\n        <span class=\"value\">{{ dataFreshnessStatus }}</span>\n        <span v-if=\"staleDataSources.length > 0\" class=\"detail warning\">\n          Stale: {{ staleDataSources.join(', ') }}\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst { getAccountingIntegrity } = useFinancialHealth()\n\nconst integrity = ref<any>(null)\nconst loading = ref(true)\n\nconst bankFeedStatus = computed(() => {\n  if (!integrity.value?.bankFeeds[0]) return 'Unknown'\n  return integrity.value.bankFeeds[0].status === 'connected' ? 'Connected' : 'Degraded'\n})\n\nconst bankFeedStatusClass = computed(() => {\n  if (!integrity.value?.bankFeeds[0]) return 'status-unknown'\n  return integrity.value.bankFeeds[0].status === 'connected' ? 'status-good' : 'status-warning'\n})\n\nconst reconciliationStatus = computed(() => {\n  if (!integrity.value?.lastReconciliation) return 'Never reconciled'\n  const daysSince = Math.floor((Date.now() - new Date(integrity.value.lastReconciliation.date).getTime()) / (1000 * 60 * 60 * 24))\n  if (daysSince > 30) return 'Stale'\n  if (daysSince > 14) return 'Needs attention'\n  return 'Current'\n})\n\nconst reconciliationStatusClass = computed(() => {\n  const status = reconciliationStatus.value\n  if (status === 'Never reconciled' || status === 'Stale') return 'status-critical'\n  if (status === 'Needs attention') return 'status-warning'\n  return 'status-good'\n})\n\nconst staleDataSources = computed(() => {\n  if (!integrity.value?.dataFreshness) return []\n  return integrity.value.dataFreshness\n    .filter((d: any) => d.is_stale)\n    .map((d: any) => d.data_source.replace(/_/g, ' '))\n})\n\nconst dataFreshnessStatus = computed(() => {\n  const count = staleDataSources.value.length\n  if (count === 0) return 'All current'\n  return `${count} stale`\n})\n\nconst dataFreshnessClass = computed(() => {\n  return staleDataSources.value.length > 0 ? 'status-warning' : 'status-good'\n})\n\nconst formatDate = (date: string) => {\n  return new Date(date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n}\n\nconst formatTimestamp = (timestamp: string) => {\n  const date = new Date(timestamp)\n  const now = Date.now()\n  const diff = now - date.getTime()\n  const hours = Math.floor(diff / (1000 * 60 * 60))\n  if (hours < 24) return `${hours}h ago`\n  const days = Math.floor(hours / 24)\n  return `${days}d ago`\n}\n\nonMounted(async () => {\n  integrity.value = await getAccountingIntegrity()\n  loading.value = false\n})\n</script>\n\n<style scoped>\n.accounting-integrity {\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 20px;\n  margin-top: 16px;\n}\n\n.accounting-integrity h3 {\n  font-size: 16px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 4px 0;\n}\n\n.question {\n  font-size: 13px;\n  color: #6b7280;\n  margin: 0 0 16px 0;\n}\n\n.loading {\n  padding: 20px;\n  text-align: center;\n  color: #6b7280;\n  font-size: 14px;\n}\n\n.integrity-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 12px;\n}\n\n.integrity-item {\n  display: flex;\n  flex-direction: column;\n  padding: 12px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.integrity-item.status-good {\n  background: #f0fdf4;\n  border-color: #bbf7d0;\n}\n\n.integrity-item.status-warning {\n  background: #fffbeb;\n  border-color: #fde68a;\n}\n\n.integrity-item.status-critical {\n  background: #fef2f2;\n  border-color: #fecaca;\n}\n\n.integrity-item.status-unknown {\n  background: #f3f4f6;\n  border-color: #d1d5db;\n}\n\n.label {\n  font-size: 12px;\n  font-weight: 500;\n  color: #6b7280;\n  margin-bottom: 4px;\n}\n\n.value {\n  font-size: 16px;\n  font-weight: 600;\n  color: #111827;\n}\n\n.detail {\n  font-size: 11px;\n  color: #6b7280;\n  margin-top: 4px;\n}\n\n.detail.warning {\n  color: #d97706;\n  font-weight: 500;\n}\n</style>\n","export const useTaxSafety = () => {\n  const supabase = useSupabaseClient()\n\n  const getTaxObligations = async () => {\n    const now = new Date()\n    const thirtyDaysFromNow = new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000)\n\n    const { data: upcoming } = await supabase\n      .from('business_tax_reserves')\n      .select('*')\n      .in('status', ['accruing', 'due_soon'])\n      .lte('due_date', thirtyDaysFromNow.toISOString().split('T')[0])\n      .order('due_date', { ascending: true })\n\n    const { data: overdue } = await supabase\n      .from('business_tax_reserves')\n      .select('*')\n      .eq('status', 'overdue')\n      .order('due_date', { ascending: true })\n\n    const { data: allReserves } = await supabase\n      .from('business_tax_reserves')\n      .select('amount_expected, amount_reserved, status')\n      .in('status', ['accruing', 'due_soon', 'overdue'])\n\n    const totalExpected = allReserves?.reduce((sum, r) => sum + Number(r.amount_expected), 0) || 0\n    const totalReserved = allReserves?.reduce((sum, r) => sum + Number(r.amount_reserved), 0) || 0\n    const shortfall = Math.max(0, totalExpected - totalReserved)\n\n    return {\n      upcoming: upcoming || [],\n      overdue: overdue || [],\n      summary: {\n        totalExpected,\n        totalReserved,\n        shortfall,\n        isFullyFunded: shortfall === 0\n      }\n    }\n  }\n\n  const updateTaxReserve = async (id: string, amountReserved: number) => {\n    const { error } = await supabase\n      .from('business_tax_reserves')\n      .update({\n        amount_reserved: amountReserved,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', id)\n\n    if (error) throw error\n  }\n\n  const markTaxPaid = async (id: string) => {\n    const { error } = await supabase\n      .from('business_tax_reserves')\n      .update({\n        status: 'paid',\n        paid_date: new Date().toISOString().split('T')[0]\n      })\n      .eq('id', id)\n\n    if (error) throw error\n  }\n\n  return {\n    getTaxObligations,\n    updateTaxReserve,\n    markTaxPaid\n  }\n}\n","<template>\n  <div class=\"tax-safety\">\n    <h3>Tax Safety</h3>\n    <p class=\"subtitle\">Business tax obligations and reserves</p>\n\n    <div v-if=\"loading\" class=\"loading\">Loading tax data...</div>\n\n    <div v-else-if=\"taxes\" class=\"tax-content\">\n      <div class=\"summary-row\">\n        <div class=\"summary-item\">\n          <span class=\"label\">Total Expected</span>\n          <span class=\"value\">{{ formatCurrency(taxes.summary.totalExpected) }}</span>\n        </div>\n        <div class=\"summary-item\">\n          <span class=\"label\">Total Reserved</span>\n          <span class=\"value\">{{ formatCurrency(taxes.summary.totalReserved) }}</span>\n        </div>\n        <div class=\"summary-item\" :class=\"shortfallClass\">\n          <span class=\"label\">Shortfall</span>\n          <span class=\"value\">{{ formatCurrency(taxes.summary.shortfall) }}</span>\n        </div>\n      </div>\n\n      <div v-if=\"taxes.overdue.length > 0\" class=\"alert-section critical\">\n        <strong>⚠ Overdue Obligations ({{ taxes.overdue.length }})</strong>\n        <div v-for=\"tax in taxes.overdue\" :key=\"tax.id\" class=\"tax-item\">\n          <span>{{ formatTaxType(tax.tax_type) }}</span>\n          <span>Due: {{ formatDate(tax.due_date) }}</span>\n          <span>{{ formatCurrency(tax.amount_expected) }}</span>\n        </div>\n      </div>\n\n      <div v-if=\"taxes.upcoming.length > 0\" class=\"obligations-list\">\n        <h4>Upcoming (Next 30 Days)</h4>\n        <div v-for=\"tax in taxes.upcoming\" :key=\"tax.id\" class=\"tax-item\">\n          <div class=\"tax-info\">\n            <span class=\"tax-type\">{{ formatTaxType(tax.tax_type) }}</span>\n            <span class=\"tax-period\">{{ formatDate(tax.period_start) }} - {{ formatDate(tax.period_end) }}</span>\n          </div>\n          <div class=\"tax-amounts\">\n            <span>Expected: {{ formatCurrency(tax.amount_expected) }}</span>\n            <span>Reserved: {{ formatCurrency(tax.amount_reserved) }}</span>\n            <span class=\"due-date\">Due: {{ formatDate(tax.due_date) }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst { getTaxObligations } = useTaxSafety()\n\nconst taxes = ref<any>(null)\nconst loading = ref(true)\n\nconst shortfallClass = computed(() => {\n  if (!taxes.value) return ''\n  return taxes.value.summary.shortfall > 0 ? 'status-warning' : 'status-good'\n})\n\nconst formatCurrency = (amount: number) => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  }).format(amount / 100)\n}\n\nconst formatDate = (date: string) => {\n  return new Date(date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n}\n\nconst formatTaxType = (type: string) => {\n  const types: Record<string, string> = {\n    'payroll_federal': 'Federal Payroll Tax',\n    'payroll_state': 'State Payroll Tax',\n    'payroll_local': 'Local Payroll Tax',\n    'sales': 'Sales Tax',\n    'estimated_income': 'Estimated Income Tax',\n    'property': 'Property Tax',\n    'other': 'Other Tax'\n  }\n  return types[type] || type\n}\n\nonMounted(async () => {\n  taxes.value = await getTaxObligations()\n  loading.value = false\n})\n</script>\n\n<style scoped>\n.tax-safety {\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 20px;\n  margin-top: 16px;\n}\n\n.tax-safety h3 {\n  font-size: 16px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 4px 0;\n}\n\n.subtitle {\n  font-size: 13px;\n  color: #6b7280;\n  margin: 0 0 16px 0;\n}\n\n.loading {\n  padding: 20px;\n  text-align: center;\n  color: #6b7280;\n  font-size: 14px;\n}\n\n.summary-row {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 12px;\n  margin-bottom: 16px;\n}\n\n.summary-item {\n  display: flex;\n  flex-direction: column;\n  padding: 12px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.summary-item.status-good {\n  background: #f0fdf4;\n  border-color: #bbf7d0;\n}\n\n.summary-item.status-warning {\n  background: #fffbeb;\n  border-color: #fde68a;\n}\n\n.label {\n  font-size: 12px;\n  font-weight: 500;\n  color: #6b7280;\n  margin-bottom: 4px;\n}\n\n.value {\n  font-size: 18px;\n  font-weight: 600;\n  color: #111827;\n}\n\n.alert-section {\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 16px;\n}\n\n.alert-section.critical {\n  background: #fef2f2;\n  border: 1px solid #fecaca;\n  color: #991b1b;\n}\n\n.obligations-list h4 {\n  font-size: 14px;\n  font-weight: 600;\n  color: #374151;\n  margin: 0 0 12px 0;\n}\n\n.tax-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 4px;\n  margin-bottom: 8px;\n  font-size: 13px;\n}\n\n.tax-info {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.tax-type {\n  font-weight: 600;\n  color: #111827;\n}\n\n.tax-period {\n  font-size: 12px;\n  color: #6b7280;\n}\n\n.tax-amounts {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 4px;\n}\n\n.due-date {\n  font-weight: 500;\n  color: #374151;\n}\n</style>\n","export const useFounderCompensation = () => {\n  const supabase = useSupabaseClient()\n  const user = useSupabaseUser()\n\n  const getCompensationSummary = async () => {\n    const now = new Date()\n    const startOfYear = new Date(now.getFullYear(), 0, 1)\n\n    const { data: events } = await supabase\n      .from('founder_compensation_events')\n      .select('event_type, amount, event_date')\n      .eq('founder_id', user.value?.id)\n      .gte('event_date', startOfYear.toISOString().split('T')[0])\n      .order('event_date', { ascending: false })\n\n    const salaryYTD = events\n      ?.filter(e => e.event_type === 'salary')\n      .reduce((sum, e) => sum + Number(e.amount), 0) || 0\n\n    const distributionsYTD = events\n      ?.filter(e => e.event_type === 'distribution')\n      .reduce((sum, e) => sum + Number(e.amount), 0) || 0\n\n    return {\n      salaryYTD,\n      distributionsYTD,\n      totalYTD: salaryYTD + distributionsYTD,\n      events: events || []\n    }\n  }\n\n  const calculateSafeDistribution = async () => {\n    const { data: policy } = await supabase\n      .from('founder_compensation_policy')\n      .select('*')\n      .limit(1)\n      .maybeSingle()\n\n    if (!policy) {\n      return {\n        safeAmount: 0,\n        breakdown: {\n          totalCash: 0,\n          minimumBuffer: 0,\n          payrollReserve: 0,\n          taxReserve: 0,\n          apReserve: 0,\n          available: 0\n        }\n      }\n    }\n\n    const { data: accounts } = await supabase\n      .from('business_accounts')\n      .select('current_balance')\n      .eq('is_active', true)\n\n    const totalCash = accounts?.reduce((sum, acc) => sum + Number(acc.current_balance), 0) || 0\n\n    const { data: apData } = await supabase\n      .from('accounts_payable')\n      .select('amount_outstanding, priority')\n      .eq('status', 'pending')\n\n    const payrollReserve = apData\n      ?.filter(ap => ap.priority === 'payroll')\n      .reduce((sum, ap) => sum + Number(ap.amount_outstanding), 0) || 0\n\n    const taxReserve = apData\n      ?.filter(ap => ap.priority === 'taxes')\n      .reduce((sum, ap) => sum + Number(ap.amount_outstanding), 0) || 0\n\n    const apReserve = apData\n      ?.filter(ap => ['critical', 'normal'].includes(ap.priority))\n      .reduce((sum, ap) => sum + Number(ap.amount_outstanding), 0) || 0\n\n    const minimumBuffer = Number(policy.minimum_cash_buffer)\n\n    const available = Math.max(0, totalCash - minimumBuffer - payrollReserve - taxReserve - apReserve)\n    const safeAmount = Math.floor(available * (Number(policy.safe_distribution_percentage) / 100))\n\n    const calculation = {\n      totalCash,\n      minimumBuffer,\n      payrollReserve,\n      taxReserve,\n      apReserve,\n      available\n    }\n\n    await supabase\n      .from('founder_withdrawal_calculations')\n      .insert({\n        total_cash_available: totalCash,\n        minimum_buffer_required: minimumBuffer,\n        payroll_reserve_required: payrollReserve,\n        tax_reserve_required: taxReserve,\n        ap_reserve_required: apReserve,\n        available_for_distribution: available,\n        safe_distribution_amount: safeAmount,\n        calculation_notes: 'Automated calculation'\n      })\n\n    return {\n      safeAmount,\n      breakdown: calculation\n    }\n  }\n\n  const getCompensationPolicy = async () => {\n    const { data } = await supabase\n      .from('founder_compensation_policy')\n      .select('*')\n      .limit(1)\n      .maybeSingle()\n\n    return data\n  }\n\n  return {\n    getCompensationSummary,\n    calculateSafeDistribution,\n    getCompensationPolicy\n  }\n}\n","<template>\n  <div class=\"founder-compensation\">\n    <h3>Founder Compensation Guardrails</h3>\n    <p class=\"subtitle\">Business-side record of compensation (not personal finances)</p>\n\n    <div v-if=\"loading\" class=\"loading\">Loading compensation data...</div>\n\n    <div v-else-if=\"compensation && safeDistribution\" class=\"compensation-content\">\n      <div class=\"summary-grid\">\n        <div class=\"summary-card\">\n          <span class=\"label\">Salary Paid YTD</span>\n          <span class=\"value\">{{ formatCurrency(compensation.salaryYTD) }}</span>\n        </div>\n        <div class=\"summary-card\">\n          <span class=\"label\">Distributions YTD</span>\n          <span class=\"value\">{{ formatCurrency(compensation.distributionsYTD) }}</span>\n        </div>\n        <div class=\"summary-card highlight\">\n          <span class=\"label\">Safe to Distribute Now</span>\n          <span class=\"value large\">{{ formatCurrency(safeDistribution.safeAmount) }}</span>\n          <span class=\"help-text\">Based on cash safety rules</span>\n        </div>\n      </div>\n\n      <details class=\"breakdown\">\n        <summary>View Calculation Breakdown</summary>\n        <div class=\"breakdown-content\">\n          <div class=\"breakdown-row\">\n            <span>Total Cash Available</span>\n            <span>{{ formatCurrency(safeDistribution.breakdown.totalCash) }}</span>\n          </div>\n          <div class=\"breakdown-row deduction\">\n            <span>Minimum Cash Buffer</span>\n            <span>-{{ formatCurrency(safeDistribution.breakdown.minimumBuffer) }}</span>\n          </div>\n          <div class=\"breakdown-row deduction\">\n            <span>Payroll Reserve</span>\n            <span>-{{ formatCurrency(safeDistribution.breakdown.payrollReserve) }}</span>\n          </div>\n          <div class=\"breakdown-row deduction\">\n            <span>Tax Reserve</span>\n            <span>-{{ formatCurrency(safeDistribution.breakdown.taxReserve) }}</span>\n          </div>\n          <div class=\"breakdown-row deduction\">\n            <span>AP Reserve</span>\n            <span>-{{ formatCurrency(safeDistribution.breakdown.apReserve) }}</span>\n          </div>\n          <div class=\"breakdown-row total\">\n            <span>Available for Distribution</span>\n            <span>{{ formatCurrency(safeDistribution.breakdown.available) }}</span>\n          </div>\n        </div>\n      </details>\n\n      <div class=\"notice\">\n        <p>This system tracks only what the business pays to you. It does not track personal finances, personal spending, or what you do with distributions after they leave the business.</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst { getCompensationSummary, calculateSafeDistribution } = useFounderCompensation()\n\nconst compensation = ref<any>(null)\nconst safeDistribution = ref<any>(null)\nconst loading = ref(true)\n\nconst formatCurrency = (amount: number) => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  }).format(amount / 100)\n}\n\nonMounted(async () => {\n  compensation.value = await getCompensationSummary()\n  safeDistribution.value = await calculateSafeDistribution()\n  loading.value = false\n})\n</script>\n\n<style scoped>\n.founder-compensation {\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 20px;\n  margin-top: 16px;\n}\n\n.founder-compensation h3 {\n  font-size: 16px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 4px 0;\n}\n\n.subtitle {\n  font-size: 13px;\n  color: #6b7280;\n  margin: 0 0 16px 0;\n}\n\n.loading {\n  padding: 20px;\n  text-align: center;\n  color: #6b7280;\n  font-size: 14px;\n}\n\n.summary-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 12px;\n  margin-bottom: 16px;\n}\n\n.summary-card {\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.summary-card.highlight {\n  background: #eff6ff;\n  border-color: #bfdbfe;\n}\n\n.label {\n  font-size: 12px;\n  font-weight: 500;\n  color: #6b7280;\n  margin-bottom: 6px;\n}\n\n.value {\n  font-size: 20px;\n  font-weight: 600;\n  color: #111827;\n}\n\n.value.large {\n  font-size: 28px;\n  color: #1e40af;\n}\n\n.help-text {\n  font-size: 11px;\n  color: #6b7280;\n  margin-top: 4px;\n}\n\n.breakdown {\n  margin-bottom: 16px;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  padding: 12px;\n}\n\n.breakdown summary {\n  cursor: pointer;\n  font-weight: 500;\n  color: #374151;\n  font-size: 14px;\n}\n\n.breakdown-content {\n  margin-top: 12px;\n  padding-top: 12px;\n  border-top: 1px solid #e5e7eb;\n}\n\n.breakdown-row {\n  display: flex;\n  justify-content: space-between;\n  padding: 8px;\n  font-size: 14px;\n}\n\n.breakdown-row.deduction {\n  color: #6b7280;\n  font-size: 13px;\n}\n\n.breakdown-row.total {\n  font-weight: 600;\n  border-top: 2px solid #111827;\n  margin-top: 8px;\n  padding-top: 12px;\n}\n\n.notice {\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  padding: 12px;\n}\n\n.notice p {\n  margin: 0;\n  font-size: 12px;\n  color: #6b7280;\n  line-height: 1.5;\n}\n</style>\n","export const useBillingQueue = () => {\n  const supabase = useSupabaseClient()\n\n  const getWorkQueue = async () => {\n    const { data: queue } = await supabase\n      .from('billing_work_queue')\n      .select(`\n        *,\n        billing_claims (\n          claim_number,\n          patient_name,\n          service_date,\n          billed_amount,\n          payer_name,\n          claim_status\n        )\n      `)\n      .eq('status', 'pending')\n      .order('queue_priority', { ascending: true })\n      .order('added_to_queue_at', { ascending: true })\n\n    const grouped = queue?.reduce((acc, item) => {\n      const action = item.action_required\n      if (!acc[action]) {\n        acc[action] = []\n      }\n      acc[action].push(item)\n      return acc\n    }, {} as Record<string, any[]>)\n\n    return {\n      queue: queue || [],\n      grouped: grouped || {},\n      count: queue?.length || 0\n    }\n  }\n\n  const getClaimDetails = async (claimId: string) => {\n    const { data: claim } = await supabase\n      .from('billing_claims')\n      .select('*')\n      .eq('id', claimId)\n      .maybeSingle()\n\n    const { data: eligibility } = await supabase\n      .from('eligibility_checks')\n      .select('*')\n      .eq('claim_id', claimId)\n      .order('checked_at', { ascending: false })\n      .limit(1)\n      .maybeSingle()\n\n    const { data: submissions } = await supabase\n      .from('claim_submissions')\n      .select('*')\n      .eq('claim_id', claimId)\n      .order('submitted_at', { ascending: false })\n\n    const { data: statusInquiries } = await supabase\n      .from('claim_status_inquiries')\n      .select('*')\n      .eq('claim_id', claimId)\n      .order('inquired_at', { ascending: false })\n\n    const { data: remittances } = await supabase\n      .from('remittance_advices')\n      .select('*')\n      .eq('claim_id', claimId)\n      .order('received_at', { ascending: false })\n\n    const { data: ediTransactions } = await supabase\n      .from('edi_transactions')\n      .select('*')\n      .eq('claim_id', claimId)\n      .order('created_at', { ascending: false })\n\n    return {\n      claim,\n      eligibility,\n      submissions: submissions || [],\n      statusInquiries: statusInquiries || [],\n      remittances: remittances || [],\n      ediTransactions: ediTransactions || []\n    }\n  }\n\n  const performAction = async (queueItemId: string, action: string, claimId: string, data: any) => {\n    const user = useSupabaseUser()\n\n    await supabase\n      .from('audit_log')\n      .insert({\n        event_type: 'billing_action',\n        actor_id: user.value?.id,\n        actor_role: 'biller',\n        resource_type: 'billing_claim',\n        resource_id: claimId,\n        action: action,\n        result: 'success',\n        details: { queueItemId, ...data }\n      })\n\n    if (action === 'verify_eligibility') {\n      await supabase\n        .from('edi_transactions')\n        .insert({\n          claim_id: claimId,\n          transaction_type: '270',\n          direction: 'outbound',\n          status: 'pending',\n          sent_at: new Date().toISOString()\n        })\n\n      await supabase\n        .from('billing_claims')\n        .update({\n          claim_status: 'eligibility_pending',\n          next_action_required: 'wait_for_eligibility',\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', claimId)\n    }\n\n    if (action === 'submit_claim') {\n      const { data: submission } = await supabase\n        .from('claim_submissions')\n        .insert({\n          claim_id: claimId,\n          submission_method: 'electronic',\n          clearinghouse_status: 'pending'\n        })\n        .select()\n        .single()\n\n      await supabase\n        .from('edi_transactions')\n        .insert({\n          claim_id: claimId,\n          transaction_type: '837',\n          direction: 'outbound',\n          status: 'pending',\n          sent_at: new Date().toISOString()\n        })\n\n      await supabase\n        .from('billing_claims')\n        .update({\n          claim_status: 'submitted',\n          next_action_required: 'wait_for_clearinghouse',\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', claimId)\n    }\n\n    if (action === 'check_status') {\n      await supabase\n        .from('edi_transactions')\n        .insert({\n          claim_id: claimId,\n          transaction_type: '276',\n          direction: 'outbound',\n          status: 'pending',\n          sent_at: new Date().toISOString()\n        })\n\n      await supabase\n        .from('billing_claims')\n        .update({\n          next_action_required: 'wait_for_status_response',\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', claimId)\n    }\n\n    await supabase\n      .from('billing_work_queue')\n      .update({\n        status: 'completed',\n        action_taken_at: new Date().toISOString()\n      })\n      .eq('id', queueItemId)\n  }\n\n  const addToQueue = async (claimId: string, actionRequired: string, blockingReason: string, priority: number = 100) => {\n    const { error } = await supabase\n      .from('billing_work_queue')\n      .insert({\n        claim_id: claimId,\n        action_required: actionRequired,\n        blocking_reason: blockingReason,\n        queue_priority: priority,\n        status: 'pending'\n      })\n\n    if (error) throw error\n  }\n\n  return {\n    getWorkQueue,\n    getClaimDetails,\n    performAction,\n    addToQueue\n  }\n}\n","<template>\n  <div class=\"billing-command-center\">\n    <div class=\"header\">\n      <h3>Billing Command Center</h3>\n      <p class=\"subtitle\">Operational queue for solo biller</p>\n    </div>\n\n    <div v-if=\"loading\" class=\"loading\">Loading billing queue...</div>\n\n    <div v-else-if=\"queue\" class=\"queue-content\">\n      <div class=\"queue-summary\">\n        <div class=\"summary-stat\">\n          <span class=\"stat-value\">{{ queue.count }}</span>\n          <span class=\"stat-label\">Claims Need Action</span>\n        </div>\n      </div>\n\n      <div v-if=\"queue.count === 0\" class=\"empty-state\">\n        <p>No claims in queue. All billing tasks are current.</p>\n      </div>\n\n      <div v-else class=\"queue-groups\">\n        <div v-for=\"(items, action) in queue.grouped\" :key=\"action\" class=\"queue-group\">\n          <h4 class=\"group-title\">\n            {{ formatActionTitle(action) }}\n            <span class=\"count-badge\">{{ items.length }}</span>\n          </h4>\n          <div class=\"queue-items\">\n            <div v-for=\"item in items\" :key=\"item.id\" class=\"queue-item\" @click=\"selectItem(item)\">\n              <div class=\"item-info\">\n                <span class=\"claim-number\">{{ item.billing_claims?.claim_number }}</span>\n                <span class=\"patient-name\">{{ item.billing_claims?.patient_name }}</span>\n                <span class=\"service-date\">{{ formatDate(item.billing_claims?.service_date) }}</span>\n              </div>\n              <div class=\"item-details\">\n                <span class=\"payer\">{{ item.billing_claims?.payer_name }}</span>\n                <span class=\"amount\">{{ formatCurrency(item.billing_claims?.billed_amount) }}</span>\n              </div>\n              <div class=\"item-reason\">{{ item.blocking_reason }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"selectedItem\" class=\"modal-overlay\" @click=\"closeModal\">\n      <div class=\"modal\" @click.stop>\n        <div class=\"modal-header\">\n          <h3>Claim Triage: {{ selectedItem.billing_claims?.claim_number }}</h3>\n          <button @click=\"closeModal\" class=\"close-button\">×</button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"triage-section\">\n            <h4>What's Blocking Payment</h4>\n            <p>{{ selectedItem.blocking_reason }}</p>\n          </div>\n          <div class=\"triage-section\">\n            <h4>Claim Details</h4>\n            <div class=\"detail-row\">\n              <span>Patient:</span>\n              <span>{{ selectedItem.billing_claims?.patient_name }}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span>Service Date:</span>\n              <span>{{ formatDate(selectedItem.billing_claims?.service_date) }}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span>Payer:</span>\n              <span>{{ selectedItem.billing_claims?.payer_name }}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span>Amount:</span>\n              <span>{{ formatCurrency(selectedItem.billing_claims?.billed_amount) }}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span>Status:</span>\n              <span>{{ selectedItem.billing_claims?.claim_status }}</span>\n            </div>\n          </div>\n          <div class=\"triage-section\">\n            <h4>Action Required</h4>\n            <p>{{ formatActionTitle(selectedItem.action_required) }}</p>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button @click=\"performAction\" class=\"action-button primary\">\n            {{ getActionButtonText(selectedItem.action_required) }}\n          </button>\n          <button @click=\"closeModal\" class=\"action-button\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst { getWorkQueue, performAction: executeAction } = useBillingQueue()\n\nconst queue = ref<any>(null)\nconst loading = ref(true)\nconst selectedItem = ref<any>(null)\n\nconst formatCurrency = (amount: number) => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  }).format(amount / 100)\n}\n\nconst formatDate = (date: string) => {\n  return new Date(date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n}\n\nconst formatActionTitle = (action: string) => {\n  const titles: Record<string, string> = {\n    'verify_eligibility': 'Verify Eligibility',\n    'recheck_eligibility': 'Recheck Eligibility',\n    'submit_claim': 'Submit Claim',\n    'resubmit_claim': 'Resubmit Claim',\n    'check_status': 'Check Status',\n    'review_denial': 'Review Denial',\n    'attach_documentation': 'Attach Documentation',\n    'post_payment': 'Post Payment',\n    'contact_payer': 'Contact Payer',\n    'patient_follow_up': 'Patient Follow-up'\n  }\n  return titles[action] || action\n}\n\nconst getActionButtonText = (action: string) => {\n  const buttons: Record<string, string> = {\n    'verify_eligibility': 'Run Eligibility Check',\n    'recheck_eligibility': 'Recheck Eligibility',\n    'submit_claim': 'Submit Claim',\n    'resubmit_claim': 'Resubmit Claim',\n    'check_status': 'Request Status',\n    'review_denial': 'Review & Decide',\n    'attach_documentation': 'Attach Docs',\n    'post_payment': 'Post to AR',\n    'contact_payer': 'Log Payer Call',\n    'patient_follow_up': 'Contact Patient'\n  }\n  return buttons[action] || 'Take Action'\n}\n\nconst selectItem = (item: any) => {\n  selectedItem.value = item\n}\n\nconst closeModal = () => {\n  selectedItem.value = null\n}\n\nconst performAction = async () => {\n  if (!selectedItem.value) return\n\n  await executeAction(\n    selectedItem.value.id,\n    selectedItem.value.action_required,\n    selectedItem.value.claim_id,\n    {}\n  )\n\n  closeModal()\n  queue.value = await getWorkQueue()\n}\n\nonMounted(async () => {\n  queue.value = await getWorkQueue()\n  loading.value = false\n})\n</script>\n\n<style scoped>\n.billing-command-center {\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 20px;\n  margin-top: 24px;\n}\n\n.header h3 {\n  font-size: 18px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 4px 0;\n}\n\n.subtitle {\n  font-size: 13px;\n  color: #6b7280;\n  margin: 0 0 16px 0;\n}\n\n.loading {\n  padding: 40px;\n  text-align: center;\n  color: #6b7280;\n}\n\n.queue-summary {\n  padding: 16px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.stat-value {\n  display: block;\n  font-size: 32px;\n  font-weight: 700;\n  color: #111827;\n}\n\n.stat-label {\n  display: block;\n  font-size: 13px;\n  color: #6b7280;\n  margin-top: 4px;\n}\n\n.empty-state {\n  padding: 40px;\n  text-align: center;\n  color: #6b7280;\n}\n\n.queue-groups {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.queue-group {\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  overflow: hidden;\n}\n\n.group-title {\n  background: #f9fafb;\n  padding: 12px 16px;\n  margin: 0;\n  font-size: 14px;\n  font-weight: 600;\n  color: #374151;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.count-badge {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 24px;\n  height: 24px;\n  padding: 0 8px;\n  background: #3b82f6;\n  color: white;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 600;\n}\n\n.queue-items {\n  display: flex;\n  flex-direction: column;\n}\n\n.queue-item {\n  padding: 16px;\n  border-top: 1px solid #e5e7eb;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n\n.queue-item:hover {\n  background: #f9fafb;\n}\n\n.item-info {\n  display: flex;\n  gap: 16px;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.claim-number {\n  font-weight: 600;\n  color: #111827;\n}\n\n.patient-name {\n  color: #374151;\n}\n\n.service-date {\n  font-size: 13px;\n  color: #6b7280;\n}\n\n.item-details {\n  display: flex;\n  gap: 16px;\n  font-size: 13px;\n  color: #6b7280;\n  margin-bottom: 4px;\n}\n\n.item-reason {\n  font-size: 13px;\n  color: #d97706;\n  font-weight: 500;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal {\n  background: white;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 600px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);\n}\n\n.modal-header {\n  padding: 20px;\n  border-bottom: 1px solid #e5e7eb;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.modal-header h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #111827;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  font-size: 28px;\n  line-height: 1;\n  color: #6b7280;\n  cursor: pointer;\n  padding: 0;\n  width: 32px;\n  height: 32px;\n}\n\n.modal-body {\n  padding: 20px;\n}\n\n.triage-section {\n  margin-bottom: 20px;\n}\n\n.triage-section h4 {\n  font-size: 14px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 8px 0;\n}\n\n.triage-section p {\n  margin: 0;\n  color: #374151;\n  font-size: 14px;\n  line-height: 1.5;\n}\n\n.detail-row {\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 0;\n  border-bottom: 1px solid #f3f4f6;\n  font-size: 14px;\n}\n\n.detail-row span:first-child {\n  color: #6b7280;\n  font-weight: 500;\n}\n\n.detail-row span:last-child {\n  color: #111827;\n}\n\n.modal-footer {\n  padding: 16px 20px;\n  border-top: 1px solid #e5e7eb;\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n}\n\n.action-button {\n  padding: 8px 16px;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  background: white;\n  color: #374151;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.action-button:hover {\n  background: #f9fafb;\n}\n\n.action-button.primary {\n  background: #3b82f6;\n  border-color: #3b82f6;\n  color: white;\n}\n\n.action-button.primary:hover {\n  background: #2563eb;\n}\n</style>\n","<template>\n  <div class=\"private-pay-revenue\">\n    <h3>Private-Pay Revenue</h3>\n    <p class=\"subtitle\">Patient billing separate from insurance</p>\n\n    <div v-if=\"loading\" class=\"loading\">Loading private-pay data...</div>\n\n    <div v-else-if=\"analytics\" class=\"revenue-content\">\n      <div class=\"summary-grid\">\n        <div class=\"summary-card highlight\">\n          <span class=\"label\">Total Revenue</span>\n          <span class=\"value\">{{ formatCurrency(analytics.totalRevenue) }}</span>\n        </div>\n        <div class=\"summary-card\">\n          <span class=\"label\">Outstanding Balance</span>\n          <span class=\"value\">{{ formatCurrency(analytics.outstandingBalance) }}</span>\n        </div>\n        <div class=\"summary-card\">\n          <span class=\"label\">Payment Success Rate</span>\n          <span class=\"value\">{{ analytics.completionRate.toFixed(1) }}%</span>\n        </div>\n      </div>\n\n      <div class=\"breakdown-section\">\n        <h4>Revenue by Service Type</h4>\n        <div class=\"breakdown-grid\">\n          <div class=\"breakdown-item\">\n            <span class=\"breakdown-label\">Ambulance Transport</span>\n            <span class=\"breakdown-value\">{{ formatCurrency(analytics.ambulanceRevenue) }}</span>\n          </div>\n          <div class=\"breakdown-item\">\n            <span class=\"breakdown-label\">Telehealth</span>\n            <span class=\"breakdown-value\">{{ formatCurrency(analytics.telehealthRevenue) }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"status-section\">\n        <h4>Payment Status</h4>\n        <div class=\"status-grid\">\n          <div class=\"status-item\">\n            <span class=\"status-count\">{{ analytics.paidCount }}</span>\n            <span class=\"status-label\">Paid</span>\n          </div>\n          <div class=\"status-item warning\">\n            <span class=\"status-count\">{{ analytics.failedCount }}</span>\n            <span class=\"status-label\">Failed</span>\n          </div>\n          <div class=\"status-item critical\">\n            <span class=\"status-count\">{{ analytics.disputedCount }}</span>\n            <span class=\"status-label\">Disputed</span>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"analytics.failedCount > 0 || analytics.disputedCount > 0\" class=\"alert-box\">\n        <strong>Attention Required</strong>\n        <p v-if=\"analytics.failedCount > 0\">\n          {{ analytics.failedCount }} failed {{ analytics.failedCount === 1 ? 'payment' : 'payments' }} need follow-up\n        </p>\n        <p v-if=\"analytics.disputedCount > 0\">\n          {{ analytics.disputedCount }} {{ analytics.disputedCount === 1 ? 'dispute' : 'disputes' }} in progress\n        </p>\n      </div>\n\n      <div class=\"notice\">\n        <p>All payment processing is handled securely by Stripe. No payment data is stored on this platform.</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst { getPrivatePayAnalytics } = useStripe()\n\nconst analytics = ref<any>(null)\nconst loading = ref(true)\n\nconst formatCurrency = (amount: number) => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0\n  }).format(amount / 100)\n}\n\nonMounted(async () => {\n  analytics.value = await getPrivatePayAnalytics()\n  loading.value = false\n})\n</script>\n\n<style scoped>\n.private-pay-revenue {\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 20px;\n  margin-top: 16px;\n}\n\n.private-pay-revenue h3 {\n  font-size: 16px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 4px 0;\n}\n\n.subtitle {\n  font-size: 13px;\n  color: #6b7280;\n  margin: 0 0 16px 0;\n}\n\n.loading {\n  padding: 40px;\n  text-align: center;\n  color: #6b7280;\n  font-size: 14px;\n}\n\n.summary-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.summary-card {\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.summary-card.highlight {\n  background: #eff6ff;\n  border-color: #bfdbfe;\n}\n\n.label {\n  font-size: 12px;\n  font-weight: 500;\n  color: #6b7280;\n  margin-bottom: 6px;\n}\n\n.value {\n  font-size: 24px;\n  font-weight: 600;\n  color: #111827;\n}\n\n.breakdown-section,\n.status-section {\n  margin-bottom: 20px;\n}\n\n.breakdown-section h4,\n.status-section h4 {\n  font-size: 14px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 12px 0;\n}\n\n.breakdown-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 12px;\n}\n\n.breakdown-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.breakdown-label {\n  font-size: 14px;\n  color: #6b7280;\n}\n\n.breakdown-value {\n  font-size: 18px;\n  font-weight: 600;\n  color: #111827;\n}\n\n.status-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 12px;\n}\n\n.status-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 16px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.status-item.warning {\n  background: #fffbeb;\n  border-color: #fde68a;\n}\n\n.status-item.critical {\n  background: #fef2f2;\n  border-color: #fecaca;\n}\n\n.status-count {\n  font-size: 28px;\n  font-weight: 700;\n  color: #111827;\n}\n\n.status-label {\n  font-size: 13px;\n  color: #6b7280;\n  margin-top: 4px;\n}\n\n.alert-box {\n  padding: 16px;\n  background: #fffbeb;\n  border: 1px solid #fde68a;\n  border-radius: 6px;\n  margin-bottom: 16px;\n}\n\n.alert-box strong {\n  display: block;\n  font-size: 14px;\n  color: #92400e;\n  margin-bottom: 8px;\n}\n\n.alert-box p {\n  margin: 4px 0;\n  font-size: 13px;\n  color: #78350f;\n}\n\n.notice {\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n  padding: 12px;\n}\n\n.notice p {\n  margin: 0;\n  font-size: 12px;\n  color: #6b7280;\n  line-height: 1.5;\n}\n</style>\n","export const useTelehealth = () => {\n  const supabase = useSupabaseClient()\n\n  const createTelehealthEncounter = async (data: {\n    patientName: string\n    patientDob: string\n    sessionStart: string\n    providerType: string\n    serviceCategory: string\n    disposition: string\n  }) => {\n    const encounterNumber = `TH-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n\n    const { data: encounter, error } = await supabase\n      .from('telehealth_encounters')\n      .insert({\n        encounter_number: encounterNumber,\n        patient_name: data.patientName,\n        patient_dob: data.patientDob,\n        session_start: data.sessionStart,\n        provider_type: data.providerType,\n        service_category: data.serviceCategory,\n        disposition: data.disposition,\n        is_billable: true\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return encounter\n  }\n\n  const completeTelehealthSession = async (\n    encounterId: string,\n    sessionEnd: string,\n    clinicalNotes: string,\n    resultedInTransport: boolean,\n    transportIncidentId?: string\n  ) => {\n    const sessionStart = new Date((await supabase\n      .from('telehealth_encounters')\n      .select('session_start')\n      .eq('id', encounterId)\n      .single()).data?.session_start || '')\n\n    const sessionEndDate = new Date(sessionEnd)\n    const durationMinutes = Math.round((sessionEndDate.getTime() - sessionStart.getTime()) / 60000)\n\n    const { error } = await supabase\n      .from('telehealth_encounters')\n      .update({\n        session_end: sessionEnd,\n        duration_minutes: durationMinutes,\n        clinical_notes: clinicalNotes,\n        resulted_in_transport: resultedInTransport,\n        transport_incident_id: transportIncidentId || null,\n        updated_at: new Date().toISOString()\n      })\n      .eq('id', encounterId)\n\n    if (error) throw error\n  }\n\n  const createTelehealthBillingEvent = async (data: {\n    encounterId: string\n    cptCode: string\n    serviceDescription: string\n    chargeAmount: number\n    payerPath: 'insurance' | 'patient_self_pay' | 'contracted_organization'\n    billingClaimId?: string\n    privateInvoiceId?: string\n  }) => {\n    const { data: billingEvent, error } = await supabase\n      .from('telehealth_billing_events')\n      .insert({\n        encounter_id: data.encounterId,\n        cpt_code: data.cptCode,\n        service_description: data.serviceDescription,\n        charge_amount: data.chargeAmount,\n        payer_path: data.payerPath,\n        billing_claim_id: data.billingClaimId || null,\n        private_invoice_id: data.privateInvoiceId || null,\n        billing_status: 'pending'\n      })\n      .select()\n      .single()\n\n    if (error) throw error\n    return billingEvent\n  }\n\n  const linkTelehealthToTransport = async (\n    telehealthEncounterId: string,\n    transportIncidentId: string,\n    billingRelationship: 'separate' | 'bundled' | 'telehealth_only' | 'transport_only',\n    bundlingRule: string\n  ) => {\n    const { error } = await supabase\n      .from('telehealth_transport_bundles')\n      .insert({\n        telehealth_encounter_id: telehealthEncounterId,\n        transport_incident_id: transportIncidentId,\n        billing_relationship: billingRelationship,\n        bundling_rule: bundlingRule\n      })\n\n    if (error) throw error\n  }\n\n  const getTelehealthEncounters = async (filters?: {\n    startDate?: string\n    endDate?: string\n    disposition?: string\n    isBillable?: boolean\n  }) => {\n    let query = supabase\n      .from('telehealth_encounters')\n      .select('*')\n      .order('session_start', { ascending: false })\n\n    if (filters?.startDate) {\n      query = query.gte('session_start', filters.startDate)\n    }\n    if (filters?.endDate) {\n      query = query.lte('session_start', filters.endDate)\n    }\n    if (filters?.disposition) {\n      query = query.eq('disposition', filters.disposition)\n    }\n    if (filters?.isBillable !== undefined) {\n      query = query.eq('is_billable', filters.isBillable)\n    }\n\n    const { data, error } = await query\n\n    if (error) throw error\n    return data || []\n  }\n\n  const getTelehealthBillingEvents = async (encounterId: string) => {\n    const { data, error } = await supabase\n      .from('telehealth_billing_events')\n      .select('*')\n      .eq('encounter_id', encounterId)\n\n    if (error) throw error\n    return data || []\n  }\n\n  const getTelehealthAnalytics = async () => {\n    const { data: encounters } = await supabase\n      .from('telehealth_encounters')\n      .select('*')\n\n    const { data: billingEvents } = await supabase\n      .from('telehealth_billing_events')\n      .select('*')\n\n    const totalEncounters = encounters?.length || 0\n    const billableEncounters = encounters?.filter(e => e.is_billable).length || 0\n    const transportDispatched = encounters?.filter(e => e.resulted_in_transport).length || 0\n\n    const totalRevenue = billingEvents?.reduce((sum, e) => sum + Number(e.charge_amount), 0) || 0\n    const paidRevenue = billingEvents\n      ?.filter(e => e.billing_status === 'paid')\n      .reduce((sum, e) => sum + Number(e.charge_amount), 0) || 0\n\n    return {\n      totalEncounters,\n      billableEncounters,\n      transportDispatched,\n      totalRevenue,\n      paidRevenue,\n      transportRate: totalEncounters ? (transportDispatched / totalEncounters) * 100 : 0\n    }\n  }\n\n  return {\n    createTelehealthEncounter,\n    completeTelehealthSession,\n    createTelehealthBillingEvent,\n    linkTelehealthToTransport,\n    getTelehealthEncounters,\n    getTelehealthBillingEvents,\n    getTelehealthAnalytics\n  }\n}\n","<template>\n  <div class=\"telehealth-billing\">\n    <div class=\"panel-header\">\n      <h3>Telehealth Billing</h3>\n      <p class=\"subtitle\">Carefusion Telehealth encounters and revenue</p>\n    </div>\n\n    <div v-if=\"loading\" class=\"loading\">Loading telehealth data...</div>\n\n    <div v-else-if=\"analytics\" class=\"content\">\n      <div class=\"metrics-grid\">\n        <div class=\"metric-card\">\n          <span class=\"metric-label\">Total Encounters</span>\n          <span class=\"metric-value\">{{ analytics.totalEncounters }}</span>\n        </div>\n        <div class=\"metric-card\">\n          <span class=\"metric-label\">Billable Encounters</span>\n          <span class=\"metric-value\">{{ analytics.billableEncounters }}</span>\n        </div>\n        <div class=\"metric-card\">\n          <span class=\"metric-label\">Transport Dispatched</span>\n          <span class=\"metric-value\">{{ analytics.transportDispatched }}</span>\n          <span class=\"metric-detail\">{{ analytics.transportRate.toFixed(1) }}% dispatch rate</span>\n        </div>\n        <div class=\"metric-card highlight\">\n          <span class=\"metric-label\">Telehealth Revenue</span>\n          <span class=\"metric-value\">{{ formatCurrency(analytics.paidRevenue) }}</span>\n          <span class=\"metric-detail\">of {{ formatCurrency(analytics.totalRevenue) }} billed</span>\n        </div>\n      </div>\n\n      <div class=\"encounters-section\">\n        <h4>Recent Encounters</h4>\n        <div v-if=\"encounters.length === 0\" class=\"empty-state\">\n          No telehealth encounters yet\n        </div>\n        <div v-else class=\"encounters-list\">\n          <div v-for=\"encounter in encounters\" :key=\"encounter.id\" class=\"encounter-item\">\n            <div class=\"encounter-info\">\n              <span class=\"encounter-number\">{{ encounter.encounter_number }}</span>\n              <span class=\"encounter-date\">{{ formatDate(encounter.session_start) }}</span>\n            </div>\n            <div class=\"encounter-details\">\n              <span>{{ formatProviderType(encounter.provider_type) }}</span>\n              <span>{{ formatServiceCategory(encounter.service_category) }}</span>\n              <span v-if=\"encounter.duration_minutes\">{{ encounter.duration_minutes }} min</span>\n            </div>\n            <div class=\"encounter-status\">\n              <span :class=\"['disposition-badge', encounter.resulted_in_transport ? 'transport' : 'resolved']\">\n                {{ formatDisposition(encounter.disposition) }}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst { getTelehealthAnalytics, getTelehealthEncounters } = useTelehealth()\n\nconst analytics = ref<any>(null)\nconst encounters = ref<any[]>([])\nconst loading = ref(true)\n\nconst formatCurrency = (amount: number) => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0\n  }).format(amount / 100)\n}\n\nconst formatDate = (date: string) => {\n  return new Date(date).toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\nconst formatProviderType = (type: string) => {\n  const types: Record<string, string> = {\n    'physician': 'MD',\n    'nurse_practitioner': 'NP',\n    'physician_assistant': 'PA',\n    'nurse': 'RN',\n    'paramedic': 'Paramedic',\n    'emt': 'EMT'\n  }\n  return types[type] || type\n}\n\nconst formatServiceCategory = (category: string) => {\n  const categories: Record<string, string> = {\n    'consultation': 'Consultation',\n    'follow_up': 'Follow-up',\n    'triage': 'Triage',\n    'assessment': 'Assessment',\n    'urgent_care': 'Urgent Care',\n    'mental_health': 'Mental Health'\n  }\n  return categories[category] || category\n}\n\nconst formatDisposition = (disposition: string) => {\n  const dispositions: Record<string, string> = {\n    'resolved': 'Resolved',\n    'ems_dispatched': 'EMS Dispatched',\n    'referred': 'Referred',\n    'follow_up_needed': 'Follow-up',\n    'transferred': 'Transferred',\n    'self_care': 'Self-care'\n  }\n  return dispositions[disposition] || disposition\n}\n\nonMounted(async () => {\n  analytics.value = await getTelehealthAnalytics()\n  encounters.value = await getTelehealthEncounters({ isBillable: true })\n  loading.value = false\n})\n</script>\n\n<style scoped>\n.telehealth-billing {\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 20px;\n  margin-top: 24px;\n}\n\n.panel-header h3 {\n  font-size: 18px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 4px 0;\n}\n\n.subtitle {\n  font-size: 13px;\n  color: #6b7280;\n  margin: 0 0 20px 0;\n}\n\n.loading {\n  padding: 40px;\n  text-align: center;\n  color: #6b7280;\n}\n\n.metrics-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 12px;\n  margin-bottom: 24px;\n}\n\n.metric-card {\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.metric-card.highlight {\n  background: #eff6ff;\n  border-color: #bfdbfe;\n}\n\n.metric-label {\n  font-size: 12px;\n  font-weight: 500;\n  color: #6b7280;\n  margin-bottom: 6px;\n}\n\n.metric-value {\n  font-size: 24px;\n  font-weight: 600;\n  color: #111827;\n}\n\n.metric-detail {\n  font-size: 12px;\n  color: #6b7280;\n  margin-top: 4px;\n}\n\n.encounters-section h4 {\n  font-size: 16px;\n  font-weight: 600;\n  color: #111827;\n  margin: 0 0 12px 0;\n}\n\n.empty-state {\n  padding: 40px;\n  text-align: center;\n  color: #6b7280;\n  font-size: 14px;\n}\n\n.encounters-list {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.encounter-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px;\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 6px;\n}\n\n.encounter-info {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.encounter-number {\n  font-weight: 600;\n  color: #111827;\n  font-size: 14px;\n}\n\n.encounter-date {\n  font-size: 12px;\n  color: #6b7280;\n}\n\n.encounter-details {\n  display: flex;\n  gap: 12px;\n  font-size: 13px;\n  color: #6b7280;\n}\n\n.encounter-status {\n  display: flex;\n  align-items: center;\n}\n\n.disposition-badge {\n  padding: 4px 10px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.disposition-badge.resolved {\n  background: #d1fae5;\n  color: #065f46;\n}\n\n.disposition-badge.transport {\n  background: #fef3c7;\n  color: #92400e;\n}\n</style>\n","export const useSystemHealth = () => {\n  const supabase = useSupabaseClient()\n\n  const getHealthSignals = async () => {\n    const { data: signals } = await supabase\n      .from('system_health_signals')\n      .select('*')\n      .order('system_name')\n\n    const { data: tools } = await supabase\n      .from('tool_integration_status')\n      .select('*')\n      .order('tool_name')\n\n    return {\n      signals: signals || [],\n      tools: tools || []\n    }\n  }\n\n  const getActiveAlerts = async () => {\n    const { data: alerts } = await supabase\n      .from('dashboard_alerts')\n      .select('*')\n      .is('resolved_at', null)\n      .order('severity', { ascending: false })\n      .order('triggered_at', { ascending: false })\n\n    return alerts || []\n  }\n\n  const acknowledgeAlert = async (alertId: string) => {\n    const user = useSupabaseUser()\n\n    const { error } = await supabase\n      .from('dashboard_alerts')\n      .update({\n        acknowledged_at: new Date().toISOString(),\n        acknowledged_by: user.value?.id\n      })\n      .eq('id', alertId)\n\n    if (error) throw error\n  }\n\n  const resolveAlert = async (alertId: string) => {\n    const { error } = await supabase\n      .from('dashboard_alerts')\n      .update({\n        resolved_at: new Date().toISOString()\n      })\n      .eq('id', alertId)\n\n    if (error) throw error\n  }\n\n  const createAlert = async (alert: {\n    alertType: string\n    severity: 'info' | 'warning' | 'critical'\n    title: string\n    message: string\n    actionRequired: string\n    context?: any\n  }) => {\n    const { error } = await supabase\n      .from('dashboard_alerts')\n      .insert({\n        alert_type: alert.alertType,\n        severity: alert.severity,\n        title: alert.title,\n        message: alert.message,\n        action_required: alert.actionRequired,\n        context: alert.context || {}\n      })\n\n    if (error) throw error\n  }\n\n  const updateToolStatus = async (toolName: string, status: {\n    connectionStatus?: string\n    lastSuccessfulCall?: string\n    lastFailedCall?: string\n    failureCount24h?: number\n    averageLatencyMs?: number\n    credentialsValid?: boolean\n  }) => {\n    const { error } = await supabase\n      .from('tool_integration_status')\n      .update({\n        ...status,\n        last_checked: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n      })\n      .eq('tool_name', toolName)\n\n    if (error) throw error\n  }\n\n  return {\n    getHealthSignals,\n    getActiveAlerts,\n    acknowledgeAlert,\n    resolveAlert,\n    createAlert,\n    updateToolStatus\n  }\n}\n","<template>\n  <div class=\"founder-dashboard\">\n    <div class=\"dashboard-header\">\n      <h1>Founder Dashboard</h1>\n      <p class=\"dashboard-subtitle\">Single-screen monitoring view for fast decisions</p>\n      <div v-if=\"alerts.length > 0\" class=\"active-alerts\">\n        <span class=\"alerts-badge\">{{ alerts.length }} {{ alerts.length === 1 ? 'Alert' : 'Alerts' }}</span>\n      </div>\n    </div>\n\n    <div v-if=\"loading\" class=\"loading-state\">\n      <div class=\"spinner\"></div>\n      <p>Loading dashboard...</p>\n    </div>\n\n    <div v-else class=\"dashboard-content\">\n      <section v-if=\"alerts.length > 0\" class=\"alerts-section\">\n        <div v-for=\"alert in alerts\" :key=\"alert.id\" :class=\"['alert-item', `severity-${alert.severity}`]\">\n          <div class=\"alert-header\">\n            <span class=\"alert-icon\">\n              {{ alert.severity === 'critical' ? '⚠' : alert.severity === 'warning' ? '⚡' : 'ℹ' }}\n            </span>\n            <span class=\"alert-title\">{{ alert.title }}</span>\n          </div>\n          <p class=\"alert-message\">{{ alert.message }}</p>\n          <p class=\"alert-action\"><strong>What to do:</strong> {{ alert.action_required }}</p>\n          <div class=\"alert-actions\">\n            <button @click=\"acknowledgeAlert(alert.id)\" class=\"alert-button\">Acknowledge</button>\n            <button @click=\"resolveAlert(alert.id)\" class=\"alert-button primary\">Resolve</button>\n          </div>\n        </div>\n      </section>\n\n      <section class=\"platform-revenue-section\">\n        <PlatformRevenueBreakdown />\n      </section>\n\n      <section class=\"monitoring-layer\">\n        <BusinessHealthSummary />\n        <AccountingIntegrityStrip />\n      </section>\n\n      <section class=\"decision-support-layer\">\n        <div class=\"two-column-grid\">\n          <TaxSafetyBlock />\n          <FounderCompensationGuardrails />\n        </div>\n      </section>\n\n      <section class=\"operations-layer\">\n        <BillingCommandCenter />\n      </section>\n\n      <section class=\"revenue-layer\">\n        <div class=\"two-column-grid\">\n          <PrivatePayRevenue />\n          <div>\n            <TelehealthBillingPanel />\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\ndefinePageMeta({\n  middleware: 'auth'\n})\n\nconst { getActiveAlerts, acknowledgeAlert: ackAlert, resolveAlert: resAlert } = useSystemHealth()\n\nconst alerts = ref<any[]>([])\nconst loading = ref(true)\n\nconst acknowledgeAlert = async (alertId: string) => {\n  await ackAlert(alertId)\n  alerts.value = await getActiveAlerts()\n}\n\nconst resolveAlert = async (alertId: string) => {\n  await resAlert(alertId)\n  alerts.value = await getActiveAlerts()\n}\n\nonMounted(async () => {\n  alerts.value = await getActiveAlerts()\n  loading.value = false\n})\n</script>\n\n<style scoped>\n.founder-dashboard {\n  min-height: 100vh;\n  background: #f3f4f6;\n  padding: 24px;\n}\n\n.dashboard-header {\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 24px;\n  margin-bottom: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.dashboard-header h1 {\n  font-size: 28px;\n  font-weight: 700;\n  color: #111827;\n  margin: 0 0 4px 0;\n}\n\n.dashboard-subtitle {\n  font-size: 14px;\n  color: #6b7280;\n  margin: 0;\n}\n\n.active-alerts {\n  display: flex;\n  align-items: center;\n}\n\n.alerts-badge {\n  background: #dc2626;\n  color: white;\n  padding: 6px 12px;\n  border-radius: 6px;\n  font-size: 13px;\n  font-weight: 600;\n}\n\n.loading-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 80px 20px;\n  color: #6b7280;\n}\n\n.spinner {\n  width: 40px;\n  height: 40px;\n  border: 3px solid #e5e7eb;\n  border-top-color: #3b82f6;\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n  margin-bottom: 16px;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.dashboard-content {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n.alerts-section {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.alert-item {\n  background: white;\n  border: 2px solid;\n  border-radius: 8px;\n  padding: 16px;\n}\n\n.alert-item.severity-critical {\n  border-color: #dc2626;\n  background: #fef2f2;\n}\n\n.alert-item.severity-warning {\n  border-color: #f59e0b;\n  background: #fffbeb;\n}\n\n.alert-item.severity-info {\n  border-color: #3b82f6;\n  background: #eff6ff;\n}\n\n.alert-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 8px;\n}\n\n.alert-icon {\n  font-size: 20px;\n}\n\n.alert-title {\n  font-size: 16px;\n  font-weight: 600;\n  color: #111827;\n}\n\n.alert-message {\n  margin: 0 0 8px 28px;\n  color: #374151;\n  font-size: 14px;\n  line-height: 1.5;\n}\n\n.alert-action {\n  margin: 0 0 12px 28px;\n  color: #111827;\n  font-size: 14px;\n}\n\n.alert-actions {\n  display: flex;\n  gap: 8px;\n  margin-left: 28px;\n}\n\n.alert-button {\n  padding: 6px 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  background: white;\n  color: #374151;\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.alert-button:hover {\n  background: #f9fafb;\n}\n\n.alert-button.primary {\n  background: #3b82f6;\n  border-color: #3b82f6;\n  color: white;\n}\n\n.alert-button.primary:hover {\n  background: #2563eb;\n}\n\n.platform-revenue-section,\n.monitoring-layer,\n.decision-support-layer,\n.operations-layer,\n.revenue-layer {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.two-column-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n  gap: 16px;\n}\n\n@media (max-width: 768px) {\n  .founder-dashboard {\n    padding: 16px;\n  }\n\n  .dashboard-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12px;\n  }\n\n  .two-column-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>\n"],"version":3}