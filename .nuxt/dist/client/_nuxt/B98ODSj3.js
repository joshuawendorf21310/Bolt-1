import{_ as y}from"./C0U8NRev.js";import{j as b,k as C,o,c as S,a as n,n as a,A as w,b as A,w as i,d as r,I as d,q as u,t as f,a3 as N,_ as T}from"./Ys5eufZ_.js";import{u as g}from"./whLkva8r.js";const M=()=>{const{employee:c}=g(),v=l=>c.value?(c.value.credentials||[]).includes(l):!1,p=l=>c.value?c.value.position?.toLowerCase().includes(l.toLowerCase()):!1,t=l=>{if(!c.value)return!1;const e={cad:["dispatcher","admin","supervisor"],mdt:["paramedic","emt","firefighter","admin","supervisor"],epcr:["paramedic","emt","admin","supervisor"],transport:["dispatcher","admin","supervisor"],hems:["pilot","flight_medic","admin","supervisor"],fire:["firefighter","fire_chief","admin","supervisor"],scheduling:["admin","supervisor","hr"],crewlink:["all"],billing:["billing","admin","finance"],hr:["hr","admin"]}[l.toLowerCase()]||[];if(e.includes("all"))return!0;const _=c.value.position?.toLowerCase()||"";return e.some(h=>_.includes(h))},m=()=>p("admin");return{hasPermission:v,hasRole:p,canAccessModule:t,isAdmin:m,isSupervisor:()=>p("supervisor")||m()}},x={class:"app-layout"},B={class:"app-header"},L={class:"header-content"},P={class:"nav-menu"},R={class:"header-actions"},D={class:"user-info"},O={class:"user-name"},V={class:"user-role"},E={class:"app-main"},I=b({__name:"default",setup(c){const{signOut:v,employee:p}=g(),{canAccessModule:t}=M(),m=C(),k=async()=>{await v(),m.push("/login")};return(l,s)=>{const e=y;return o(),S("div",x,[n("header",B,[n("div",L,[n("div",{class:"logo",onClick:s[0]||(s[0]=_=>("navigateTo"in l?l.navigateTo:a(w))("/dashboard"))},[...s[1]||(s[1]=[n("span",{class:"logo-text"},"FUSION",-1),n("span",{class:"logo-accent"},"EMS",-1),n("span",{class:"logo-quantum"},"QUANTUM",-1)])]),n("nav",P,[A(e,{to:"/dashboard",class:"nav-link"},{default:i(()=>[...s[2]||(s[2]=[n("span",{class:"nav-icon"},"ðŸ“Š",-1),r(" Dashboard ",-1)])]),_:1}),a(t)("cad")?(o(),d(e,{key:0,to:"/cad",class:"nav-link"},{default:i(()=>[...s[3]||(s[3]=[n("span",{class:"nav-icon"},"ðŸš¨",-1),r(" CAD ",-1)])]),_:1})):u("",!0),a(t)("mdt")?(o(),d(e,{key:1,to:"/mdt",class:"nav-link"},{default:i(()=>[...s[4]||(s[4]=[n("span",{class:"nav-icon"},"ðŸ“±",-1),r(" MDT ",-1)])]),_:1})):u("",!0),a(t)("epcr")?(o(),d(e,{key:2,to:"/epcr",class:"nav-link"},{default:i(()=>[...s[5]||(s[5]=[n("span",{class:"nav-icon"},"ðŸ“‹",-1),r(" ePCR ",-1)])]),_:1})):u("",!0),a(t)("transport")?(o(),d(e,{key:3,to:"/transport",class:"nav-link"},{default:i(()=>[...s[6]||(s[6]=[n("span",{class:"nav-icon"},"ðŸš‘",-1),r(" Transport ",-1)])]),_:1})):u("",!0),a(t)("hems")?(o(),d(e,{key:4,to:"/hems",class:"nav-link"},{default:i(()=>[...s[7]||(s[7]=[n("span",{class:"nav-icon"},"ðŸš",-1),r(" HEMS ",-1)])]),_:1})):u("",!0),a(t)("fire")?(o(),d(e,{key:5,to:"/fire",class:"nav-link"},{default:i(()=>[...s[8]||(s[8]=[n("span",{class:"nav-icon"},"ðŸ”¥",-1),r(" Fire ",-1)])]),_:1})):u("",!0),a(t)("scheduling")?(o(),d(e,{key:6,to:"/scheduling",class:"nav-link"},{default:i(()=>[...s[9]||(s[9]=[n("span",{class:"nav-icon"},"ðŸ“…",-1),r(" Schedule ",-1)])]),_:1})):u("",!0),a(t)("billing")?(o(),d(e,{key:7,to:"/billing",class:"nav-link"},{default:i(()=>[...s[10]||(s[10]=[n("span",{class:"nav-icon"},"ðŸ’°",-1),r(" Billing ",-1)])]),_:1})):u("",!0),a(t)("hr")?(o(),d(e,{key:8,to:"/hr",class:"nav-link"},{default:i(()=>[...s[11]||(s[11]=[n("span",{class:"nav-icon"},"ðŸ‘¥",-1),r(" HR ",-1)])]),_:1})):u("",!0)]),n("div",R,[n("div",D,[n("span",O,f(a(p)?.first_name)+" "+f(a(p)?.last_name),1),n("span",V,f(a(p)?.position),1)]),n("button",{onClick:k,class:"btn btn-secondary btn-sm"},"Sign Out")])])]),n("main",E,[N(l.$slots,"default",{},void 0)])])}}}),H=T(I,[["__scopeId","data-v-3788f7e7"]]);export{H as default};
